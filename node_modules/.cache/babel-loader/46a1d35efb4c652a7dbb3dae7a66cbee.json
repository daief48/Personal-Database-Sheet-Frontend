{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5ba70d18\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"card card-default\"\n};\nconst _hoisted_2 = {\n  class: \"card-header\"\n};\nconst _hoisted_3 = {\n  class: \"card-title\"\n};\nconst _hoisted_4 = {\n  class: \"card-body\"\n};\nconst _hoisted_5 = {\n  class: \"row\"\n};\nconst _hoisted_6 = {\n  class: \"col-md-12\"\n};\nconst _hoisted_7 = {\n  class: \"emp-list\",\n  style: {\n    \"position\": \"relative\",\n    \"top\": \"-20px\"\n  }\n};\nconst _hoisted_8 = {\n  class: \"row justify-content-center mt-2 mb-2 ml-0 mr-0\"\n};\n\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-8\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_10 = {\n  class: \"col-4 mt-1 mb-1\"\n};\nconst _hoisted_11 = {\n  class: \"\"\n};\nconst _hoisted_12 = {\n  key: 0,\n  class: \"\"\n};\nconst _hoisted_13 = {\n  class: \"col-md-12\"\n};\nconst _hoisted_14 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_15 = {\n  class: \"table table-bordered\"\n};\n\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Sl\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Name\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Email\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Mobile\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Department\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Designation\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Status\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Action\")])], -1\n/* HOISTED */\n));\n\nconst _hoisted_17 = {\n  class: \"text-center\"\n};\nconst _hoisted_18 = [\"onClick\"];\n\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-sm btn-info ml-1\"\n}, \"Detail\", -1\n/* HOISTED */\n));\n\nconst _hoisted_20 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-sm btn-danger ml-1\"\n}, \"Delete\", -1\n/* HOISTED */\n));\n\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"tfoot\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_22 = {\n  key: 0,\n  class: \"vertical-center mt-3 mb-5\"\n};\n\nconst _hoisted_23 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"modal__title\"\n}, \"Hello, vue-final-modal\", -1\n/* HOISTED */\n));\n\nconst _hoisted_24 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"modal__content\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, \"Vue Final Modal is a renderless, stackable, detachable and lightweight modal component.\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_25 = /*#__PURE__*/_createTextVNode(\"Open modal\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_pagination = _resolveComponent(\"v-pagination\");\n\n  const _component_mdi_close = _resolveComponent(\"mdi-close\");\n\n  const _component_vue_final_modal = _resolveComponent(\"vue-final-modal\");\n\n  const _component_v_button = _resolveComponent(\"v-button\");\n\n  const _component_EditEmployee = _resolveComponent(\"EditEmployee\");\n\n  const _component_AddEmployee = _resolveComponent(\"AddEmployee\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [$data.showEmpList ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h3\", _hoisted_3, [_createElementVNode(\"button\", {\n    class: \"btn btn-sm btn-info\",\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.addEmployee && _ctx.addEmployee(...args))\n  }, \"+ Add Employee\")])]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _createElementVNode(\"div\", _hoisted_10, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: \"Search Employee...\",\n    onInput: _cache[1] || (_cache[1] = (...args) => $options.searchEmployee && $options.searchEmployee(...args)),\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.query.search = $event)\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.query.search]])])]), _createElementVNode(\"div\", _hoisted_11, [!_ctx.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"table\", _hoisted_15, [_hoisted_16, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.employees, (emp, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index\n    }, [_createElementVNode(\"td\", null, _toDisplayString(index++), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(emp.name), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(emp.email), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(emp.mobile_number), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(emp.department_name), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(emp.designation_name), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_17, [_createElementVNode(\"span\", {\n      class: _normalizeClass([\"badge\", emp.status == 1 ? 'badge-success' : 'badge-danger'])\n    }, _toDisplayString(emp.status == 1 ? 'Active' : 'Inactive'), 3\n    /* TEXT, CLASS */\n    )]), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"btn btn-sm btn-warning\",\n      onClick: $event => $options.editEmp(emp)\n    }, \"Edit\", 8\n    /* PROPS */\n    , _hoisted_18), _hoisted_19, _hoisted_20])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), _hoisted_21])])])])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Insert Pagination Part \"), $data.employees !== null ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [_createVNode(_component_v_pagination, {\n    modelValue: $data.query.current_page,\n    \"onUpdate:modelValue\": [_cache[3] || (_cache[3] = $event => $data.query.current_page = $event), $options.getEmployees],\n    pages: $data.query.page,\n    \"range-size\": 1,\n    \"active-color\": \"#DCEDFF\"\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\", \"pages\", \"onUpdate:modelValue\"])])) : _createCommentVNode(\"v-if\", true)])])])]), _createElementVNode(\"div\", null, [_createVNode(_component_vue_final_modal, {\n    modelValue: $data.showModal,\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.showModal = $event),\n    classes: \"modal-container\",\n    \"content-class\": \"modal-content\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"button\", {\n      class: \"modal__close\",\n      onClick: _cache[4] || (_cache[4] = $event => $data.showModal = false)\n    }, [_createVNode(_component_mdi_close)]), _hoisted_23, _hoisted_24]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"modelValue\"]), _createVNode(_component_v_button, {\n    class: \"d-none\",\n    onClick: _cache[6] || (_cache[6] = $event => $data.showModal = true)\n  }, {\n    default: _withCtx(() => [_hoisted_25]),\n    _: 1\n    /* STABLE */\n\n  })])])) : _createCommentVNode(\"v-if\", true), $data.editingEnabled ? (_openBlock(), _createBlock(_component_EditEmployee, {\n    key: 1,\n    data: $data.empData,\n    onCancel: $options.cancelEdit\n  }, null, 8\n  /* PROPS */\n  , [\"data\", \"onCancel\"])) : _createCommentVNode(\"v-if\", true), $data.addingEnabled ? (_openBlock(), _createBlock(_component_AddEmployee, {\n    key: 2,\n    onCancel: _ctx.cancelAdd\n  }, null, 8\n  /* PROPS */\n  , [\"onCancel\"])) : _createCommentVNode(\"v-if\", true)], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["class","style","_createElementVNode","$data","_createElementBlock","onClick","_ctx","_hoisted_9","type","placeholder","onInput","$options","search","$event","_hoisted_16","_Fragment","_renderList","emp","index","key","_toDisplayString","name","email","mobile_number","department_name","designation_name","status","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_createCommentVNode","_createVNode","_component_v_pagination","current_page","pages","page","_component_vue_final_modal","classes","_component_mdi_close","_hoisted_23","_hoisted_24","_component_v_button","_createBlock","_component_EditEmployee","data","onCancel","_component_AddEmployee"],"sourceRoot":"","sources":["/var/www/html/PMS_PROJECT/pds/src/components/Employee/Employees.vue"],"sourcesContent":["<template>\r\n  <div class=\"card card-default\" v-if=\"showEmpList\">\r\n    <div class=\"card-header\">\r\n      <h3 class=\"card-title\"><button class=\"btn btn-sm btn-info\" @click=\"addEmployee\">+ Add Employee</button></h3>\r\n    </div>\r\n    <div class=\"card-body\">\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n          <div class=\"emp-list\" style=\"position:relative; top:-20px;\">\r\n            <div class=\"row justify-content-center mt-2 mb-2 ml-0 mr-0\">\r\n              <div class=\"col-8\">\r\n                \r\n              </div>\r\n              <div class=\"col-4 mt-1 mb-1\">\r\n                <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"Search Employee...\"\r\n                    @input=\"searchEmployee\"\r\n                    v-model=\"query.search\"\r\n                  />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"\">\r\n              <div class=\"\" v-if=\"!isLoading\">\r\n              <div class=\"col-md-12\">\r\n                <div class=\"table-responsive\">\r\n                  <table class=\"table table-bordered\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Sl</th>\r\n                        <th>Name</th>\r\n                        <th>Email</th>\r\n                        <th>Mobile</th>\r\n                        <th>Department</th>\r\n                        <th>Designation</th>\r\n                        <th>Status</th>\r\n                        <th>Action</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr v-for=\"(emp, index) in employees\" :key=\"index\">\r\n                        <td>{{ index++}}</td>\r\n                        <td>{{ emp.name}}</td>\r\n                        <td>{{ emp.email }}</td>\r\n                        <td>{{ emp.mobile_number }}</td>\r\n                        <td>{{ emp.department_name }}</td>\r\n                        <td>{{ emp.designation_name}}</td>\r\n                        <td class=\"text-center\"><span class=\"badge\" :class=\"emp.status == 1 ? 'badge-success' : 'badge-danger'\">{{ emp.status == 1 ? 'Active' : 'Inactive' }}</span></td>\r\n                        <td>\r\n                          <button class=\"btn btn-sm btn-warning\" @click=\"editEmp(emp)\">Edit</button>\r\n                          <button class=\"btn btn-sm btn-info ml-1\">Detail</button>\r\n                          <button class=\"btn btn-sm btn-danger ml-1\">Delete</button>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                    <tfoot></tfoot>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Insert Pagination Part -->\r\n            \r\n            <div v-if=\"employees !== null\" class=\"vertical-center mt-3 mb-5\">\r\n          \r\n              <v-pagination\r\n                    v-model=\"query.current_page\"\r\n                    :pages=query.page\r\n                    :range-size=\"1\"\r\n                    active-color=\"#DCEDFF\"\r\n                    @update:modelValue=\"getEmployees\"\r\n                  />\r\n            </div>        \r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div>\r\n    <vue-final-modal v-model=\"showModal\" classes=\"modal-container\" content-class=\"modal-content\">\r\n      <button class=\"modal__close\" @click=\"showModal = false\">\r\n        <mdi-close></mdi-close>\r\n      </button>\r\n      <span class=\"modal__title\">Hello, vue-final-modal</span>\r\n      <div class=\"modal__content\">\r\n        <p>Vue Final Modal is a renderless, stackable, detachable and lightweight modal component.</p>\r\n      </div>\r\n    </vue-final-modal>\r\n    <v-button class=\"d-none\" @click=\"showModal = true\">Open modal</v-button>\r\n  </div>\r\n \r\n  </div>\r\n  <EditEmployee v-if=\"editingEnabled\" :data=\"empData\" @cancel=\"cancelEdit\" />\r\n  <AddEmployee v-if=\"addingEnabled\" @cancel=\"cancelAdd\" />\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport VPagination from \"@hennge/vue3-pagination\";\r\nimport \"@hennge/vue3-pagination/dist/vue3-pagination.css\";\r\nimport { VueFinalModal } from 'vue-final-modal';\r\n\r\nimport EditEmployee from './EditEmployee.vue';\r\nimport AddEmployee from './AddEmployee.vue';\r\n\r\nexport default {\r\n  components: {\r\n    VPagination,\r\n    VueFinalModal,\r\n    EditEmployee,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      showEmpList : true,\r\n      employees:[],\r\n      backend_url: process.env.VUE_APP_API_URL, \r\n      url: this.backendUrl + \"/api/employees\",\r\n      query: {\r\n          page: 1,\r\n          search: \"\",\r\n          per_page:10,\r\n          current_page: 1,\r\n        },\r\n      showModal: false, \r\n      editingEnabled: false,\r\n      addingEnabled: false,\r\n      empData:{},\r\n\r\n    };\r\n  },\r\n\r\n\r\n  methods: {\r\n    getEmployees(query = null) {\r\n      let page = 1;\r\n      let search = '';\r\n      if(query !== null){\r\n        page = query;\r\n        search = '';\r\n        if(this.query.search != null){\r\n          search = this.query.search;\r\n        }\r\n      }\r\n      var url = '';\r\n      if (search === null) {\r\n        url = this.backend_url + 'getEmployeesList';\r\n      } else {\r\n        url = this.backend_url + 'getEmployeesList?search='+search + '&page=' + page;\r\n      }\r\n      this.axios\r\n      .get(url)\r\n      .then(res => {          \r\n        this.employees = res.data.data.data; \r\n        if(res.data.data.total > this.query.per_page){\r\n          this.query.page = Math.ceil(res.data.data.total / this.query.per_page);\r\n        }  else{\r\n          this.query.page = 1;\r\n        } \r\n        this.query.current_page = res.data.data.current_page;   \r\n        \r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })     \r\n    },\r\n\r\n    searchEmployee() {\r\n      var page = 1;\r\n      this.getEmployees(page);\r\n    },\r\n\r\n    deleteEmployee(id){\r\n      console.log(id)\r\n    },\r\n\r\n\r\n    deleteUserModal(id) {\r\n      this.$swal\r\n        .fire({\r\n          text: \"Are you sure to delete the user ?\",\r\n          icon: \"error\",\r\n          cancelButtonText: \"Cancel\",\r\n          confirmButtonText: \"Yes, Confirm Delete\",\r\n          showCancelButton: true,\r\n        })\r\n        .then((result) => {\r\n          if (result[\"isConfirmed\"]) {\r\n            this.deleteEmployee(id);\r\n            this.getEmployees({\r\n              page: 1,\r\n              search: ''\r\n            });\r\n            this.$swal.fire({\r\n              text: \"Success, User has been deleted.\",\r\n              icon: \"success\",\r\n              position: 'top-end',\r\n              timer: 1000,\r\n            });\r\n          }\r\n        });\r\n    }, \r\n\r\n    editEmp(emp){\r\n      this.empData = emp;\r\n      this.editingEnabled = true;\r\n      this.showEmpList = false;\r\n    },\r\n    cancelEdit(){\r\n      this.editingEnabled = false;\r\n      this.showEmpList = true;\r\n      this.getEmployees(this.query);\r\n    },\r\n\r\n    closeModal(){\r\n\r\n    },\r\n\r\n    toggleShow() {\r\n\t\t\t\tthis.show = !this.show;\r\n\t\t\t},\r\n            /**\r\n\t\t\t * crop success\r\n\t\t\t *\r\n\t\t\t * [param] imgDataUrl\r\n\t\t\t * [param] field\r\n\t\t\t */\r\n\t\t\tcropSuccess(imgDataUrl, field){\r\n\t\t\t\tconsole.log('-------- crop success --------');\r\n\t\t\t\tthis.imgDataUrl = imgDataUrl;\r\n        console.log('field: ' + field);\r\n        console.log('dataUrl: ' + imgDataUrl);\r\n        this.show = !this.show;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * upload success\r\n\t\t\t *\r\n\t\t\t * [param] jsonData  server api return data, already json encode\r\n\t\t\t * [param] field\r\n\t\t\t */\r\n\t\t\tcropUploadSuccess(jsonData, field){\r\n\t\t\t\tconsole.log('-------- upload success --------');\r\n\t\t\t\tconsole.log(jsonData);\r\n\t\t\t\tconsole.log('field: ' + field);\r\n        \r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * upload fail\r\n\t\t\t *\r\n\t\t\t * [param] status    server api return error status, like 500\r\n\t\t\t * [param] field\r\n\t\t\t */\r\n\t\t\tcropUploadFail(status, field){\r\n\t\t\t\tconsole.log('-------- upload fail --------');\r\n\t\t\t\tconsole.log(status);\r\n\t\t\t\tconsole.log('field: ' + field);\r\n\t\t\t}\r\n  },\r\n\r\n  created() {\r\n    this.getEmployees(this.query);\r\n  },\r\n\r\n \r\n\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n.ui.inverted.dimmer {\r\n  color: #009688 !important;\r\n\r\n}\r\n\r\n.cropper {\r\n\theight: 400px;\r\n\twidth: 400px;\r\n\tbackground: #DDD;\r\n}\r\n\r\n\r\n.file-btn {\r\n  position: relative;\r\n  display: block;\r\n  cursor: pointer;\r\n}\r\n.file-btn input {\r\n    position: absolute;\r\n    height: 100%;\r\n    width: 100%;\r\n    left: 0;\r\n    top: 0;\r\n    opacity: 0;\r\n    cursor: pointer;\r\n}    \r\n    \r\n\r\n</style>\r\n\r\n<style scoped>\r\n  ::v-deep .modal-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  ::v-deep .modal-content {\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin: 0 1rem;\r\n    padding: 1rem;\r\n    border: 1px solid #e2e8f0;\r\n    border-radius: 0.25rem;\r\n    background: #fff;\r\n  }\r\n  .modal__title {\r\n    margin: 0 2rem 0 0;\r\n    font-size: 1.5rem;\r\n    font-weight: 700;\r\n  }\r\n  .modal__close {\r\n    position: absolute;\r\n    top: 0.5rem;\r\n    right: 0.5rem;\r\n  }\r\n  </style>\r\n  \r\n  <style scoped>\r\n  .dark-mode div::v-deep .modal-content {\r\n    border-color: #2d3748;\r\n    background-color: #1a202c;\r\n  }\r\n  </style>"]},"metadata":{},"sourceType":"module"}