{"ast":null,"code":"//import axios from \"axios\";\nimport 'jquery/dist/jquery.min.js';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nexport default {\n  components: {},\n\n  data() {\n    return {\n      url: this.backendUrl,\n      email: '',\n      password: '',\n      updateStatus: 0,\n      saveStatus: 1,\n      // email                                                          \n      errormail: 0,\n      Emailmessage: '',\n      // password                                                          \n      errorPassword: 0,\n      Passwordmessage: '',\n      invalidEmailPassword: 0,\n      loader: false,\n      reqDwn: {}\n    };\n  },\n\n  methods: {\n    onSubmit() {\n      if (this.email !== '' && this.password !== '') {\n        this.axios.post(this.url + '/api/auth/login', {\n          email: this.email,\n          password: this.password\n        }).then(result => {\n          console.log(result);\n          this.invalidEmailPassword = '';\n          var userData = result.data.user;\n          userData.access_token = result.data.authorisation.token;\n          userData.token_type = result.data.authorisation.type;\n          localStorage.setItem('user', JSON.stringify(userData));\n          this.$router.push({\n            path: '/dashboard'\n          });\n        }).catch(error => {\n          this.errormail = 0;\n          this.errorPassword = 0;\n          this.invalidEmailPassword = 1;\n          console.log(error.response.data.errors);\n        });\n      } else {\n        if (this.email === '') {\n          this.errormail = 1;\n        } else {\n          this.errormail = 0;\n        }\n\n        if (this.password === '') {\n          this.errorPassword = 1;\n        } else {\n          this.errorPassword = 0;\n        }\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA0DA;AAEA,OAAO,2BAAP;AACA,OAAO,sCAAP;AACA,eAAe;EACdA,UAAU,EAAC,EADG;;EAIdC,IAAI,GAAG;IACN,OAAO;MACNC,GAAE,EAAI,KAAKC,UADL;MAENC,KAAK,EAAE,EAFD;MAGNC,QAAQ,EAAE,EAHJ;MAKNC,YAAY,EAAE,CALR;MAMNC,UAAU,EAAE,CANN;MAON;MACAC,SAAS,EAAC,CARJ;MASNC,YAAY,EAAE,EATR;MAWN;MACAC,aAAa,EAAC,CAZR;MAaNC,eAAe,EAAE,EAbX;MAcNC,oBAAoB,EAAC,CAdf;MAeNC,MAAM,EAAE,KAfF;MAgBNC,MAAM,EAAC;IAhBD,CAAP;EAkBE,CAvBW;;EAyBZC,OAAO,EAAE;IACRC,QAAQ,GAAG;MACZ,IAAG,KAAKZ,KAAL,KAAe,EAAf,IAAqB,KAAKC,QAAL,KAAkB,EAA1C,EAA6C;QAC5C,KAAKY,KAAL,CACEC,IADF,CACO,KAAKhB,GAAL,GAAS,iBADhB,EACkC;UACjCE,KAAK,EAAE,KAAKA,KADqB;UAEjCC,QAAQ,EAAE,KAAKA;QAFkB,CADlC,EAMEc,IANF,CAMQC,MAAD,IAAY;UACjBC,OAAO,CAACC,GAAR,CAAYF,MAAZ;UACA,KAAKR,oBAAL,GAA0B,EAA1B;UACA,IAAIW,QAAO,GAAIH,MAAM,CAACnB,IAAP,CAAYuB,IAA3B;UACAD,QAAQ,CAACE,YAAT,GAAwBL,MAAM,CAACnB,IAAP,CAAYyB,aAAZ,CAA0BC,KAAlD;UACAJ,QAAQ,CAACK,UAAT,GAAsBR,MAAM,CAACnB,IAAP,CAAYyB,aAAZ,CAA0BG,IAAhD;UACAC,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeV,QAAf,CAA7B;UACA,KAAKW,OAAL,CAAaC,IAAb,CAAkB;YAAEC,IAAI,EAAC;UAAP,CAAlB;QACA,CAdF,EAcIC,KAdJ,CAcWC,KAAD,IAAS;UACjB,KAAK9B,SAAL,GAAiB,CAAjB;UACA,KAAKE,aAAL,GAAqB,CAArB;UACA,KAAKE,oBAAL,GAA4B,CAA5B;UACAS,OAAO,CAACC,GAAR,CAAYgB,KAAK,CAACC,QAAN,CAAetC,IAAf,CAAoBuC,MAAhC;QACA,CAnBF;MAoBA,CArBD,MAqBK;QACJ,IAAI,KAAKpC,KAAL,KAAe,EAAnB,EAAuB;UACtB,KAAKI,SAAL,GAAiB,CAAjB;QACD,CAFA,MAGK;UACJ,KAAKA,SAAL,GAAiB,CAAjB;QACD;;QAEA,IAAI,KAAKH,QAAL,KAAkB,EAAtB,EAA0B;UACzB,KAAKK,aAAL,GAAqB,CAArB;QACD,CAFA,MAEO;UACN,KAAKA,aAAL,GAAqB,CAArB;QACD;MAED;IACC;;EAtCQ;AAzBG,CAAf","names":["components","data","url","backendUrl","email","password","updateStatus","saveStatus","errormail","Emailmessage","errorPassword","Passwordmessage","invalidEmailPassword","loader","reqDwn","methods","onSubmit","axios","post","then","result","console","log","userData","user","access_token","authorisation","token","token_type","type","localStorage","setItem","JSON","stringify","$router","push","path","catch","error","response","errors"],"sourceRoot":"","sources":["/var/www/html/PMS_PROJECT/pds/src/components/Login.vue"],"sourcesContent":["<template>\r\n\t\t<div class=\"container h-100\">\r\n\t\t\t<div class=\"d-flex justify-content-center h-100\">\r\n\t\t\t\t<div class=\"user_card\">\r\n\t\t\t\t\t<div class=\"justify-content-center text-center\">\r\n\t\t\t\t\t\t<h2 class=\"text-success mt-5\">User Login</h2>\r\n\t\t\t\t\t\t<p>Lgoin here to use Mobile number, password</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"d-flex justify-content-center form_container\">\r\n\t\t\t\t\t\t<form class=\"login-form\">\r\n\t\t\t\t\t\t\t<!-- email field -->\r\n\t\t\t\t\t\t\t<div class=\"input-group mb-2\">\r\n\t\t\t\t\t\t\t\t<div class=\"input-group-append\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"input-group-text\"><font-awesome-icon icon=\"fa-solid  fa-envelope\" /></span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"mail\" name=\"email\" class=\"form-control input_user\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter your email\" v-model=\"email\"  @keyup.enter=\"onSubmit\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p v-show=\"errormail == 1\" class=\"text-danger\">Email is required</p>\r\n\r\n\r\n\t\t\t\t\t\t\t<!-- password field -->\r\n\t\t\t\t\t\t\t<div class=\"input-group mb-2 pt-1\">\r\n\t\t\t\t\t\t\t\t<div class=\"input-group-append\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"input-group-text\"><font-awesome-icon icon=\"fa-solid  fa-key\" /></span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"password\" name=\"password\" class=\"form-control input_pass\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter your password\" v-model=\"password\" @keyup.enter=\"onSubmit\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p v-show=\"errorPassword == 1\" class=\"text-danger\">Password is required</p>\r\n\t\t\t\t\t\t\t<p v-show=\"invalidEmailPassword == 1\" class=\"text-danger\">Invalid Email and Password !</p>\r\n\r\n\r\n\t\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t\t<div class=\"custom-control custom-checkbox\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" class=\"custom-control-input\" id=\"customControlInline\">\r\n\t\t\t\t\t\t\t\t\t<label class=\"custom-control-label\" for=\"customControlInline\">Remember me</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- login button -->\r\n\t\t\t\t\t\t\t<div class=\"d-flex justify-content-center mt-3 login_container\">\r\n\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn login_btn text-white\" v-if=\"saveStatus == 1\"\r\n\t\t\t\t\t\t\t\t\t@click=\"onSubmit\">Login</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"mt-4\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Loader v-if=\"loader\" />\r\n\t\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n//import axios from \"axios\";\r\n\r\nimport 'jquery/dist/jquery.min.js';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nexport default {\r\n\tcomponents:{\r\n   \r\n  \t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\turl : this.backendUrl,\r\n\t\t\temail: '',                             \r\n\t\t\tpassword: '',\r\n\t\t\t\r\n\t\t\tupdateStatus: 0,                                \r\n\t\t\tsaveStatus: 1,                                  \r\n\t\t\t// email                                                          \r\n\t\t\terrormail:0,                                                     \r\n\t\t\tEmailmessage: '',\r\n\r\n\t\t\t// password                                                          \r\n\t\t\terrorPassword:0,                                                     \r\n\t\t\tPasswordmessage: '',\r\n\t\t\tinvalidEmailPassword:0,\r\n\t\t\tloader: false,\r\n\t\t\treqDwn:{},\r\n\t\t};\r\n  \t},\r\n\r\n  \tmethods: {\r\n\t  \tonSubmit() {  \r\n\t\t\tif(this.email !== '' && this.password !== ''){\r\n\t\t\t\tthis.axios                                                             \r\n\t\t\t\t\t.post(this.url+'/api/auth/login',{\r\n\t\t\t\t\temail: this.email,\r\n\t\t\t\t\tpassword: this.password,\r\n\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((result) => {\r\n\t\t\t\t\t\tconsole.log(result);\r\n\t\t\t\t\t\tthis.invalidEmailPassword='';\r\n\t\t\t\t\t\tvar userData = result.data.user;\r\n\t\t\t\t\t\tuserData.access_token = result.data.authorisation.token;\r\n\t\t\t\t\t\tuserData.token_type = result.data.authorisation.type;\r\n\t\t\t\t\t\tlocalStorage.setItem('user', JSON.stringify(userData));\r\n\t\t\t\t\t\tthis.$router.push({ path:'/dashboard'});\r\n\t\t\t\t\t}).catch((error)=>{\r\n\t\t\t\t\t\tthis.errormail = 0;\r\n\t\t\t\t\t\tthis.errorPassword = 0;\r\n\t\t\t\t\t\tthis.invalidEmailPassword = 1;\r\n\t\t\t\t\t\tconsole.log(error.response.data.errors);\r\n\t\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tif (this.email === '') {\r\n\t\t\t\t\tthis.errormail = 1;\r\n\t\t\t\t} \r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.errormail = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.password === '') {\r\n\t\t\t\t\tthis.errorPassword = 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorPassword = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n  \t\t}\r\n  \t},\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\t\t.user_card {\r\n\t\t\theight: 400px;\r\n\t\t\twidth: 450px;\r\n\t\t\tmargin-top: 150px;\r\n\t\t\tmargin-bottom: auto;\r\n\t\t\tbackground: #ffffff;\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\tflex-direction: column;\r\n\t\t\tpadding: 10px;\r\n\t\t\tbox-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n\t\t\t-webkit-box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n\t\t\t-moz-box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n\t\t\tborder-radius: 5px;\r\n\r\n\t\t}\r\n\t\t.brand_logo_container {\r\n\t\t\tposition: absolute;\r\n\t\t\theight: 170px;\r\n\t\t\twidth: 170px;\r\n\t\t\ttop: -60px;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tbackground: #ffffff;\r\n\t\t\tpadding: 10px;\r\n\t\t\ttext-align: center;\r\n      transform: scale(0.75);\r\n\t\t}\r\n\t\t.brand_logo {\r\n\t\t\theight: 130px;\r\n\t\t\twidth: 130px;\r\n\t\t\tborder-radius: 20%;\r\n\t\t\t/* border: 2px solid #0a466e; */\r\n\t\t}\r\n\t\t.form_container {\r\n\t\t\tmargin-top: 100px;\r\n\t\t}\r\n\t\t.login_btn {\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground: #007dac !important;\r\n\t\t\tcolor: #ffffff !important;\r\n\t\t\t/* //font-weight: 600; */\r\n\t\t\tfont-family: 'Russo One',sans-serif;\r\n\t\t\t\tfont-style: oblique;\r\n\t\t\t\t\tfont-size: 15px;\r\n\t\t}\r\n\t\t.login_btn:hover {\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground: #00aeef !important;\r\n\t\t\tcolor: #007dac !important;\r\n\t\t}\r\n\t\t.login_btn:focus {\r\n\t\t\tbox-shadow: none !important;\r\n\t\t\toutline: 0px !important;\r\n\t\t}\r\n\t\t.login_container {\r\n\t\t\tpadding: 0 2rem;\r\n\t\t}\r\n\t\t.input-group-text {\r\n\t\t\tbackground: #007dac  !important;\r\n\t\t\tcolor: #00aeef !important;\r\n\t\t\tborder: 0 !important;\r\n\t\t\tborder-radius: 0.25rem 0 0 0.25rem !important;\r\n\t\t}\r\n\t\t.input_user,\r\n\t\t.input_pass:focus {\r\n\t\t\tbox-shadow: none !important;\r\n\t\t\toutline: 0px !important;\r\n\t\t}\r\n\t\t.custom-checkbox .custom-control-input:checked~.custom-control-label::before {\r\n\t\t\tbackground-color: #007dac !important;\r\n\t\t}\r\n</style>"]},"metadata":{},"sourceType":"module"}