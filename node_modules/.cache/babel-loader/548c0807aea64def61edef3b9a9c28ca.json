{"ast":null,"code":"import moment from 'moment';\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport * as yup from \"yup\";\nimport { useStore, mapGetters, mapActions } from \"vuex\";\nimport VPagination from \"@hennge/vue3-pagination\";\nimport \"@hennge/vue3-pagination/dist/vue3-pagination.css\";\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport '../../assets/css/custom.css';\nimport $ from 'jquery';\nexport default {\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n    VPagination\n  },\n\n  data() {\n    const store = useStore();\n    const validationCreate = yup.object().shape({\n      eventTitle: yup.string().required(\"Event title date is required\"),\n      fromDate: yup.string().required(\"From date is required\"),\n      toDate: yup.string().required(\"To date is required\"),\n      eventVenue: yup.string().required(\"To date is required\"),\n      eventStatus: yup.string().required(\"Status is required\")\n    });\n    const validationEdit = yup.object().shape({\n      eventTitle: yup.string().required(\"Event title date is required\"),\n      // eventAbstract: yup\n      //     .string()\n      //     .required(\"Abstract is required\"),\n      // eventContent: yup\n      //     .string()\n      //     .required(\"Content is required\"),\n      // scheduleDetail: yup\n      //   .string()\n      //   .required(\"Schedule details is required\"), \n      fromDate: yup.string().required(\"From date is required\"),\n      toDate: yup.string().required(\"To date is required\"),\n      eventVenue: yup.string().required(\"Venue time is required\"),\n      eventStatus: yup.string().required(\"Status is required\")\n    });\n    return {\n      editor: ClassicEditor,\n      editorData: '<p>Content of the editor.</p>',\n      editorConfig: {\n        toolbar: {\n          items: ['paragraph', 'heading', 'bold', 'italic', 'link', 'BulletedList', 'NumberedList', 'undo', 'redo', 'aignment']\n        }\n      },\n      backend_url: process.env.VUE_APP_API_URL,\n      store,\n      events: {},\n      // Properties\n      eventTitle: '',\n      eventAbstract: '',\n      eventContent: '',\n      fromDate: '',\n      toDate: '',\n      eventStatus: 0,\n      eventVenue: '',\n      gallerImage: '',\n      loading: false,\n      id: 0,\n      query: {\n        page: 1,\n        search: \"\"\n      },\n      myValue: '',\n      validationCreate: validationCreate,\n      validationEdit: validationEdit,\n      eventForm: validationCreate,\n      concept_note: '',\n      conceptNote: '',\n      editConceptNote: '',\n      editImage: '',\n      editImageFlag: false,\n      allEvent: '',\n      reqActiveStatus: false\n    };\n  },\n\n  computed: { ...mapGetters([\"eventPaginatedData\", \"isLoading\", \"isDeleting\", \"deletedData\", \"isCreating\", \"createdEventData\", \"isUpdating\", \"updatedEventData\", \"formAction\", \"messageEvent\", \"successStatus\"])\n  },\n  methods: { ...mapActions([\"fetchAllEvent\", \"deleteEvent\", \"storeEvent\", \"updateEvent\"]),\n\n    // Print Event\n    printEvent() {\n      $(document).ready(function () {\n        $('#modalForPrintEvent').modal('show');\n      });\n      $('#datatablePrint').DataTable().destroy();\n      this.axios.get(this.backend_url + \"events\").then(res => {\n        this.allEvent = res.data.userList;\n        $(document).ready(function () {\n          $('#datatablePrint').DataTable({\n            dom: '<\"top\"Bfi>rt<\"top\"lp><\"clear\">',\n            buttons: [{\n              extend: 'csv',\n              messageTop: 'Event Informations',\n              title: 'Asf 2022 Event Information Table'\n            }, {\n              extend: 'print',\n              messageTop: 'Event Informations',\n              title: 'Asf 2022 Event Information Table'\n            }]\n          });\n          $('.buttons-print').each(function () {\n            $(this).removeClass('btn-default').addClass('print-button');\n          });\n          $('.buttons-csv').each(function () {\n            $(this).removeClass('btn-default').addClass('csv-button');\n          });\n          $('.dt-buttons').each(function () {\n            $(this).css({\n              float: 'left'\n            });\n          });\n          $('.dataTables_length').each(function () {\n            $(this).css({\n              margin: '10px'\n            });\n          });\n          $('#datatablePrint .dataTables_filter').each(function () {\n            $(this).css({\n              float: 'right'\n            });\n          });\n        });\n      });\n    },\n\n    getResults() {\n      this.fetchAllEvent(this.query);\n    },\n\n    searchEvent() {\n      this.query.page = null;\n      this.fetchAllEvent(this.query);\n    },\n\n    onFileUpload(e) {\n      let file = e.target.files[0];\n      let reader = new FileReader();\n\n      if (file[\"size\"] < 10111775) {\n        reader.onloadend = file => {\n          console.log(file);\n          this.gallerImage = reader.result;\n        };\n\n        reader.readAsDataURL(file);\n      } else {\n        alert(\"File size can not be bigger than 10 MB\");\n      }\n\n      reader.onload = function (e) {\n        $('#prvImg').attr('src', e.target.result);\n      };\n    },\n\n    // button click for open modal\n    addEvent() {\n      this.editConceptNote = \"\";\n      this.editImageFlag = false;\n      this.eventTitle = \"\";\n      this.eventAbstract = \"\";\n      this.eventContent = \"\";\n      this.$refs.form.resetForm();\n      $(document).ready(function () {\n        $('#exampleModalCenter').modal('show');\n      });\n    },\n\n    pickFile(ev) {\n      const file = ev.target.files[0];\n      const reader = new FileReader();\n\n      reader.onloadend = file => {\n        console.log(file);\n        this.conceptNote = reader.result;\n      };\n\n      reader.readAsDataURL(file); //this.conceptNote = ev.target.files[0];   \n    },\n\n    handleUser(event) {\n      console.log(this.conceptNote);\n      console.log(event);\n\n      if (this.$store.getters.formAction == 'insert') {\n        this.$swal.fire({\n          text: \"If You Insert This Event, Other Event Will be Inactivated !\",\n          icon: \"error\",\n          cancelButtonText: \"Cancel\",\n          confirmButtonText: \"Yes, Confirm This Event\",\n          showCancelButton: true\n        }).then(result => {\n          if (result[\"isConfirmed\"]) {\n            // Put delete logic\n            this.storeEvent({\n              title: this.eventTitle,\n              abstract: this.eventAbstract,\n              content: this.eventContent,\n              from_date: event.fromDate,\n              to_date: event.toDate,\n              venue: event.eventVenue,\n              feature_image: this.gallerImage,\n              concept_note: this.conceptNote,\n              reg_active_status: this.reqActiveStatus == true ? 1 : 0,\n              status: event.eventStatus\n            });\n            this.fetchAllSchedule({\n              page: 1,\n              search: ''\n            });\n            this.$swal.fire({\n              text: \"Success, User has been deleted.\",\n              icon: \"success\",\n              position: 'top-end',\n              timer: 1000\n            });\n          }\n        });\n      } else {\n        //edit\n        if (event.eventStatus == 1) {\n          this.$swal.fire({\n            text: \"If You Update This Event, Other Event Will be Inactivated !\",\n            icon: \"error\",\n            cancelButtonText: \"Cancel\",\n            confirmButtonText: \"Yes, Update This Event\",\n            showCancelButton: true\n          }).then(result => {\n            if (result[\"isConfirmed\"]) {\n              this.updateEvent({\n                id: this.id,\n                title: this.eventTitle,\n                abstract: this.eventAbstract,\n                content: this.eventContent,\n                concept_note: this.conceptNote,\n                from_date: event.fromDate,\n                to_date: event.toDate,\n                venue: event.eventVenue,\n                reg_active_status: this.reqActiveStatus == true ? 1 : 0,\n                feature_image: this.gallerImage,\n                status: event.eventStatus\n              });\n              this.$swal.fire({\n                text: \"Success, User has been deleted.\",\n                icon: \"success\",\n                position: 'top-end',\n                timer: 1000\n              });\n            }\n          });\n        } else {\n          this.updateEvent({\n            id: this.id,\n            title: this.eventTitle,\n            abstract: this.eventAbstract,\n            content: this.eventContent,\n            concept_note: this.conceptNote,\n            from_date: event.fromDate,\n            to_date: event.toDate,\n            venue: event.eventVenue,\n            reg_active_status: this.reqActiveStatus == true ? 1 : 0,\n            feature_image: this.gallerImage,\n            status: 0\n          });\n        }\n      }\n\n      $(document).ready(function () {\n        $('#exampleModalCenter').modal('hide');\n      });\n    },\n\n    onEdit(events) {\n      console.log(events);\n      this.editImageFlag = true;\n      $(document).ready(function () {\n        $('#exampleModalCenter').modal('show');\n      });\n      console.log(events);\n      this.id = events.id;\n      this.eventTitle = events.title;\n      this.eventAbstract = events.abstract;\n      this.eventContent = events.content;\n      this.fromDate = events.from_date;\n      this.toDate = events.to_date;\n      this.eventVenue = events.venue;\n      this.reqActiveStatus = events.reg_active_status == 1 ? true : false;\n      this.eventStatus = events.status;\n      this.editImage = this.base_url_for_resource + 'uploads/events_feature_image/' + events.feature_image;\n      this.editConceptNote = this.base_url_for_resource + 'uploads/conceptNote/' + events.concept_note;\n      this.$store.commit('fromActionStatus', 'edit');\n      this.eventForm = this.validationEdit;\n    },\n\n    deleteEvent(id) {\n      this.$swal.fire({\n        text: \"Are you sure to delete the user ?\",\n        icon: \"error\",\n        cancelButtonText: \"Cancel\",\n        confirmButtonText: \"Yes, Confirm Delete\",\n        showCancelButton: true\n      }).then(result => {\n        if (result[\"isConfirmed\"]) {\n          // Put delete logic\n          this.deleteEvent(id);\n          this.fetchAllEvent({\n            page: 1,\n            search: ''\n          });\n          this.$swal.fire({\n            text: \"Success, User has been deleted.\",\n            icon: \"success\",\n            position: 'top-end',\n            timer: 1000\n          });\n        }\n      });\n    },\n\n    //Data Return\n    formatDate(value) {\n      return moment(value).format('DD MMMM YYYY');\n    }\n\n  },\n\n  created() {\n    this.fetchAllEvent(this.query);\n  },\n\n  watch: {\n    createdEventData: function () {\n      if (this.createdEventData !== null && !this.isCreating) {\n        this.fetchAllEvent({\n          page: 1,\n          search: ''\n        });\n        this.$swal.fire({\n          text: \"Success, Event has been added successfully.\",\n          icon: \"success\",\n          position: \"top-end\",\n          timer: 1000\n        });\n        this.$refs.form.resetForm(); //setTimeout(function(){ location.reload(); }, 500);\n      }\n    },\n    updatedEventData: function () {\n      if (this.updatedEventData != null && !this.isUpdating) {\n        this.fetchAllEvent({\n          page: 1,\n          search: ''\n        });\n        this.$store.commit('fromActionStatus', 'insert');\n        this.eventForm = this.validationCreate;\n        this.$swal.fire({\n          text: \"Success, Event has been Updated.\",\n          icon: \"success\",\n          position: \"top-end\",\n          timer: 1000\n        });\n        this.$refs.form.resetForm(); //setTimeout(function(){ location.reload(); }, 500);\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["moment","Form","Field","ErrorMessage","yup","useStore","mapGetters","mapActions","VPagination","ClassicEditor","$","components","data","store","validationCreate","object","shape","eventTitle","string","required","fromDate","toDate","eventVenue","eventStatus","validationEdit","editor","editorData","editorConfig","toolbar","items","backend_url","process","env","VUE_APP_API_URL","events","eventAbstract","eventContent","gallerImage","loading","id","query","page","search","myValue","eventForm","concept_note","conceptNote","editConceptNote","editImage","editImageFlag","allEvent","reqActiveStatus","computed","methods","printEvent","document","ready","modal","DataTable","destroy","axios","get","then","res","userList","dom","buttons","extend","messageTop","title","each","removeClass","addClass","css","float","margin","getResults","fetchAllEvent","searchEvent","onFileUpload","e","file","target","files","reader","FileReader","onloadend","console","log","result","readAsDataURL","alert","onload","attr","addEvent","$refs","form","resetForm","pickFile","ev","handleUser","event","$store","getters","formAction","$swal","fire","text","icon","cancelButtonText","confirmButtonText","showCancelButton","storeEvent","abstract","content","from_date","to_date","venue","feature_image","reg_active_status","status","fetchAllSchedule","position","timer","updateEvent","onEdit","base_url_for_resource","commit","deleteEvent","formatDate","value","format","created","watch","createdEventData","isCreating","updatedEventData","isUpdating"],"sourceRoot":"","sources":["/var/www/html/PMS_PROJECT/asf-admin/src/components/Event/Event.vue"],"sourcesContent":["<template>\n <div>\n  <h4 class=\"text-bold heading-style\">Events</h4>\n\n  <div class=\"card card-default\">\n    <div class=\"card-header\">\n      <div class=\"col-8\">\n                <!-- Add New Event Button -->\n                <button class=\"add-button\"\n                @click=\"addEvent\"\n                > \n                  <font-awesome-icon icon=\"fa-solid  fa-plus\" /> \n                  Add New Event\n                </button>\n                <button class=\"btn btn-success ml-2\" style=\"padding:5px 6px\" @click=\"printEvent\">\n                      <font-awesome-icon icon=\"fa-solid  fa-rectangle-list\" />\n                      Export\n                </button>\n\n              </div>\n    </div>\n    <div class=\"card-body\">\n      <div class=\"row\">\n        <div class=\"col-md-12\">\n\n          <div class=\"user-list\" style=\"position:relative; top:-20px;\">\n            \n            <div class=\"row mt-2 mb-2 ml-0 mr-0\">\n              <div class=\"col-12\">\n                <div class=\"col-3 float-right\">\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"Search Event...\"\n                  @input=\"searchEvent\"\n                  v-model=\"query.search\"\n                />\n              </div>\n\n              </div>\n            </div>\n\n            <div class=\"pl-2 pr-2\">\n              <div class=\"\" v-if=\"!isLoading\" style=\"border:1px solid #eeeeee\">\n              <div class=\"col-md-12\">\n                <div class=\"row border-bottom border-top p-2 bg-light\">\n                  <div class=\"col-1\">Sl </div>\n                  <div class=\"col-3\">Title</div>\n                  <div class=\"col-2\">Venue</div>\n                  <div class=\"col-1\">From_Date</div>\n                  <div class=\"col-1\">To_Date</div>\n                  <div class=\"col-2\">Registration_Status</div>\n                  <div class=\"col-2\">Actions</div>\n                </div>\n              </div>\n                <div class=\"pt-1 pl-2 pb-1 pl-2 customize-border\"  v-for=\"(event,index) in eventPaginatedData.data\" :key=\"event.id\">\n                  <div class=\"row border-1 pb-1\">\n                    <div class=\"col-1 text-left\">\n                      {{ index + 1 }} \n                    </div>\n\n                    <div class=\"col-3\" > \n                      {{event.title}}\n                      <strong class=\"badge badge-light border border-warning\"><span v-if=\"event.status\"><i class=\"fa fa-check\" aria-hidden=\"true\"></i> Active</span><span v-else> <i class=\"fa fa-times\" aria-hidden=\"true\"></i> In-active</span></strong>\n                    </div>\n\n                    <div class=\"col-2\">\n                       <strong class=\"text-info\">{{ event.venue }} </strong>\n                    </div>\n\n                    <div class=\"col-1\">\n                      <strong class=\"text-info\">{{ $filters.myDateFormate(event.from_date) }} </strong>\n                    </div>\n\n                    <div class=\"col-1\">\n                      <strong class=\"text-info\">{{ $filters.myDateFormate(event.to_date) }} </strong>\n                    </div>\n\n                    <div class=\"col-2\">\n                      <strong title=\"You can only activate one registration status.\"  class=\"badge\" :class=\"(event.reg_active_status == 1 ? 'badge-success' : 'badge-danger')\"> <span v-if=\"(event.reg_active_status == 1)\"> active</span> <span v-else > In-active</span> </strong>\n                    </div>\n\n                    <div class=\"col-2\">\n                      <button\n                        class=\"btn btn-warning mx-2 btn-sm\"\n                        title=\"Edit Event\"\n                        @click=\"onEdit(event)\"\n                      >\n                      \n                        <font-awesome-icon icon=\"fa-solid  fa-pencil\" />\n                      </button>\n                      <button\n                        class=\"btn btn-danger mx-2 btn-sm\" \n                        title=\"Delete Event\"\n                        @click=\"deleteEvent(event.id)\" disabled>\n                        <font-awesome-icon icon=\"fa-solid  fa-trash\" />\n                      </button>\n                    </div>\n\n                  </div>\n                </div>\n              </div>\n\n              <div v-if=\"isLoading\" class=\"text-center pt-0 pb-0 pl-5 pr-5 mt-5 mb-5 d-flex align-items-center\">\n                <strong>Loading...</strong>\n                <div class=\"spinner-border ml-auto\" role=\"status\" aria-hidden=\"true\"></div>\n              </div>\n            </div>\n            \n\n            <div v-if=\"eventPaginatedData.pagination != null\" class=\"vertical-center mt-3 mb-5\">\n          \n              <v-pagination\n                v-model=\"query.page\"\n                :pages=\"eventPaginatedData.pagination.total_pages\"\n                :range-size=\"2\"\n                active-color=\"#DCEDFF\"\n                @update:modelValue=\"getResults\"\n                :class=\"justify-center\"\n              />\n            </div>        \n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- Modal For Schedule -->\n    <div class=\"modal fade\" id=\"exampleModalCenter\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-dialog-centered modal-xl\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">Entry New Event</h5>\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\" id=\"ck-control\">\n            <div class=\"row justify-content-center mt-2 mb-2 ml-0 mr-0\">\n                  <div class=\"col-md-12 form-bg\">\n                      <Form @submit=\"handleUser\" :validation-schema=\"eventForm\" ref=\"form\">\n                  \n                          <!-- Event Title,Event Abstract & Event Content -->\n\n                          <!-- Event Title -->\n                          <div class=\"row\">\n                            <div class=\"col-md-12 form-group\">\n                              <div class=\"mb-2\">\n                                <div class=\"input-group mb-2\">\n                                      <div class=\"input-group-prepend\">\n                                          <span class=\"input-group-text input-group-text-label p4\" >Event Title*</span>\n                                      </div>\n                                    <Field name=\"eventTitle\" type=\"text\" v-model=\"eventTitle\" class=\"form-control\" autocomplete=\"off\"/>\n                                  </div>\n                                </div>\n                              <ErrorMessage name=\"eventTitle\" class=\"error-feedback\" />\n                            </div>\n                          </div>\n                          <!-- End -->\n\n                          <!-- Event Abstract -->\n                          <div class=\"row\">\n                            <div class=\"col-md-12 form-group\">\n                              <div class=\"mb-2\">\n                                  <div class=\"\">\n                                      <span class=\"input-group-text p4 mb-2\" >Abstract*</span>\n                                  </div>\n                                  <ckeditor name=\"eventAbstract\" autocomplete=\"off\" class=\"form-control\" :editor=\"editor\" v-model=\"eventAbstract\" :config=\"editorConfig\" />\n                              </div>\n                              <ErrorMessage name=\"eventAbstract\" class=\"error-feedback\" />\n                            </div>\n                          </div>\n                          <!-- End -->\n\n                          <!-- Event Content -->\n                          <div class=\"row\">\n                            <div class=\"col-md-12 form-group\">\n                              <div class=\"mb-2\">\n                                  <div class=\"\">\n                                      <span class=\"input-group-text p4 mb-2\" >Content*</span>\n                                  </div>\n                                  <ckeditor name=\"eventContent\" autocomplete=\"off\" class=\"form-control\" :editor=\"editor\" v-model=\"eventContent\" :config=\"editorConfig\" />\n                              </div>\n                              <ErrorMessage name=\"eventContent\" class=\"error-feedback\" />\n                            </div>\n                          </div>\n                          <!-- End -->\n\n                          <!-- From time,To time & Status-->\n                          <div class=\"row\">\n                            <div class=\"col-md-12\">\n                              \n                              <div class=\"col-md-6 mt-4 d-inline-block float-left\">\n\n                                  <div class=\"row\">\n                                      <!-- Event Venue -->\n                                      <div class=\"col-md-12 form-group\">\n                                          <div class=\"input-group mb-2\">\n                                              <div class=\"input-group-prepend\">\n                                                  <span class=\"input-group-text input-group-text-label p4\" >Venue*</span>\n                                              </div>\n                                              <Field name=\"eventVenue\" type=\"text\" v-model=\"eventVenue\" class=\"form-control\" autocomplete=\"off\"/>\n                                          </div>\n                                          <ErrorMessage name=\"eventVenue\" class=\"error-feedback\" />\n                                      </div>\n                                      <!-- End -->\n                                      <!-- From Date -->\n                                      <div class=\"col-md-12 form-group\">\n                                          <div class=\"input-group mb-2\">\n                                              <div class=\"input-group-prepend\">\n                                                  <span class=\"input-group-text input-group-text-label p4\" >From Date*</span>\n                                              </div>\n                                              <Field name=\"fromDate\" type=\"date\" v-model=\"fromDate\" class=\"form-control\" autocomplete=\"off\"/>\n                                          </div>\n                                          <ErrorMessage name=\"fromDate\" class=\"error-feedback\" />\n                                      </div>\n                                      <!-- End -->\n\n                                      <!-- To Date -->\n                                      <div class=\"col-md-12 form-group\">\n                                          <div class=\"input-group mb-2\">\n                                              <div class=\"input-group-prepend\">\n                                                  <span class=\"input-group-text input-group-text-label p4\" >To Date*</span>\n                                              </div>\n                                              <Field name=\"toDate\" type=\"date\" v-model=\"toDate\" class=\"form-control\" autocomplete=\"off\"/>\n                                          </div>\n                                          <ErrorMessage name=\"toDate\" class=\"error-feedback\" />\n                                      </div>\n                                      <!-- End -->\n                                      \n                                      \n                                      <!-- Concept Note -->\n                                      <div class=\"col-md-12 form-group\">\n                                        <div class=\"input-group mb-2\">\n                                            <div class=\"input-group-prepend\">\n                                                <span class=\"input-group-text input-group-text-label p4\" >Concept Note</span>\n                                            </div>\n                                            <Field name=\"concept_note\"  type=\"file\" id=\"concept_note\" class=\"form-control\" accept=\".pdf\" @change=\"pickFile\"  v-model=\"concept_note\" autocomplete=\"off\"  style=\"height:44px\" />\n                                  \n                                            <a v-if=\"editConceptNote\" :href=\"editConceptNote\" target=\"_blank\" class=\"fa fa-eye iconsubmit\"></a>\n                                        </div>\n                                        <ErrorMessage name=\"concept_note\"  class=\"error-feedback\" />\n                                      </div>\n                                      <!-- End -->\n\n                                      <!-- Status -->\n                                      <div class=\"col-md-12 form-group\">\n                                          <div class=\"input-group mb-2\">\n                                              <div class=\"input-group-prepend\">\n                                                  <span class=\"input-group-text input-group-text-label p4\" >Status* </span>\n                                              </div>\n                                              <Field name=\"eventStatus\" as=\"select\" class=\"form-control\" v-model=\"eventStatus\">\n                                                  <option value=\"\">-- Select Status  --</option>\n                                                  <option value=\"1\">Active</option>\n                                                  <option value=\"0\">In-active</option>\n                                              </Field>                                    </div>\n                                          <ErrorMessage name=\"eventStatus\" class=\"error-feedback\" />\n                                      </div>\n                                      <!-- End -->\n                                      <!-- Registration active status -->\n                                        <div class=\"col-md-12 mt-2  mb-3 form-group\">\n                                            <div class=\"input-group mb-2\">\n                                                <div class=\"input-group-prepend\">\n                                                    <input type=\"checkbox\" id=\"imageForHomePage\" value=\"1\" v-model=\"reqActiveStatus\" />\n                                                    <label class=\"mt-2 ml-2\" for=\"imageForHomePage\">Registration Activation <span style=\"font-size: small;margin-left: 15px;color: red;\">**Click yes, if you want activated.</span> </label>\n                                                </div>\n\n                                            </div>\n                                            <ErrorMessage name=\"reqActiveStatus\" class=\"error-feedback\" />\n                                        </div>\n                                        <!-- End -->\n                                  </div>\n\n                              </div>\n\n                              <div class=\"col-md-6 d-inline-block\">\n                                  <div class=\"col-md-12 form-group\">\n                                      <div class=\"form-bg text-center p-3\">\n                                          <div class=\" box\" style=\"display:block\">\n                                              <div class=\"js--image-preview img-thumbnail\" style=\"text-align:center\">\n                                                  <img id=\"prvImg\" v-if=\"!editImageFlag\" src=\"@/assets/img/placeholder.png\"\n                                                  style=\"max-width:95%; width:95%\">\n\n                                                  <img id=\"prvImg\"  v-if=\"editImageFlag\" :src=\"editImage\"\n                                                  style=\"max-width:95%; width:95%\">\n                                              </div>\n                                              <div class=\"upload-options mt-3\">\n                                                  <label class=\"upload-options\">\n                                                      <i class=\"fas fa-plus-square\"></i> Select Banner Image\n                                                      <input type=\"file\" class=\"image-upload\" accept=\"image/*\" @change=\"onFileUpload\">\n                                                  </label>\n                                              </div>\n                                          </div>\n                                      </div>\n                                  </div>\n                              </div>\n\n\n                            </div>\n                          </div>\n                              <div class=\"modal-footer\">\n                                <div class=\"form-group\">\n                                    <button class=\"btn btn-primary mr-2\" :disabled=\"isCreating || isUpdating\">\n                                      <span v-show=\"isCreating\" class=\"spinner-border spinner-border-sm\"></span>\n                                      Submit\n                                    </button>\n\n                                    <button class=\"btn btn-danger ml-2\" type=\"reset\">Reset</button>\n                                </div>\n                              </div>\n\n                      </Form>\n                  </div>\n\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  <!-- End -->\n\n  <!-- Modal For Print Guest -->\n    <div class=\"modal fade\" id=\"modalForPrintEvent\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-dialog-centered modal-xl\" role=\"document\">\n          <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                  <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">Events  </h5>\n                  <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                      <span aria-hidden=\"true\">&times;</span>\n                  </button>\n              </div>\n              <div class=\"modal-body\">\n                  <div class=\"row\">\n            <div class=\"col-md-12\">\n              <div class=\"table-responsive\">\n              <table class=\"table table-striped table-bordered\" id=\"datatablePrint\">\n                  <thead>\n                      <tr>\n                      <th scope=\"col\" >SL</th>\n                      <th scope=\"col\" >Title</th>\n                      <th scope=\"col\" >Abstract</th>\n                      <th scope=\"col\" >Content</th> \n                      <th scope=\"col\" >Venue</th> \n                      <th scope=\"col\" >From Date</th>\n                      <th scope=\"col\" >To Date</th>\n                      <th scope=\"col\" >Status</th>\n                      </tr>\n                  </thead>\n                  <tbody>\n                      <tr v-for=\"(event,index) in allEvent\" :key=\"event.id\">\n                      <th scope=\"row\">{{index+1}}</th>\n                      <td > {{event.title}}</td>\n                      <td v-html=\"event.abstract\"></td>\n                      <td v-html=\"event.content\"></td>\n                      <td > {{event.venue}}</td>\n                      <td >{{$filters.myDateFormate(event.from_date)}}</td>\n                      <td >{{$filters.myDateFormate(event.to_date)}}</td>\n                      <td > {{event.status == 1 ? 'Active' : 'Inactive'}}</td>\n                      </tr>\n                  </tbody>\n              </table>\n          </div>      \n            </div> \n          </div>\n\n              </div>\n              <div class=\"modal-footer\">\n\n              </div>\n          </div>\n      </div>\n    </div>\n  <!-- End -->\n</div>\n\n</template>\n\n<script>\nimport moment from 'moment';\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport * as yup from \"yup\";\nimport {useStore, mapGetters, mapActions } from \"vuex\"\nimport VPagination from \"@hennge/vue3-pagination\";\nimport \"@hennge/vue3-pagination/dist/vue3-pagination.css\";\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport '../../assets/css/custom.css';\nimport $ from 'jquery';\n\nexport default {\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n    VPagination,\n  },\n\n  data() {\n    const store = useStore();\n    const validationCreate = yup.object().shape({\n        eventTitle: yup\n            .string()\n            .required(\"Event title date is required\"),\n\n          fromDate: yup\n            .string()\n            .required(\"From date is required\"), \n          toDate: yup\n            .string()\n            .required(\"To date is required\"), \n          eventVenue: yup\n            .string()\n            .required(\"To date is required\"), \n          eventStatus: yup\n            .string()\n            .required(\"Status is required\"),\n      });\n\n      const validationEdit = yup.object().shape({\n        eventTitle: yup\n            .string()\n            .required(\"Event title date is required\"),\n        // eventAbstract: yup\n        //     .string()\n        //     .required(\"Abstract is required\"),\n        // eventContent: yup\n        //     .string()\n        //     .required(\"Content is required\"),\n          // scheduleDetail: yup\n          //   .string()\n          //   .required(\"Schedule details is required\"), \n          fromDate: yup\n            .string()\n            .required(\"From date is required\"), \n          toDate: yup\n            .string()\n              .required(\"To date is required\"),\n          eventVenue: yup\n            .string()\n            .required(\"Venue time is required\"),  \n          eventStatus: yup\n            .string()\n            .required(\"Status is required\"),\n      });\n\n    return {\n        editor: ClassicEditor,\n        editorData: '<p>Content of the editor.</p>',\n                editorConfig: {\n                    toolbar: {\n                        items: [\n                          'paragraph',\n                          'heading',\n                          'bold',\n                          'italic',\n                          'link',\n                          'BulletedList',\n                          'NumberedList',\n                          'undo',\n                          'redo',\n                          'aignment'\n                   \n                        ]\n                    }\n      },\n\n      backend_url: process.env.VUE_APP_API_URL, \n      store,\n      events: {},\n      // Properties\n      eventTitle:'',\n      eventAbstract: '',\n      eventContent: '',\n      fromDate: '',\n      toDate: '',\n      eventStatus: 0,\n      eventVenue: '',\n      gallerImage: '',\n      loading: false,\n      id:0,\n      query: {\n        page: 1,\n        search: \"\",\n      },\n      myValue: '',\n      validationCreate: validationCreate,\n      validationEdit: validationEdit,\n      eventForm: validationCreate, \n      concept_note:'',  \n      conceptNote: '', \n      editConceptNote: '', \n      editImage:'',\n      editImageFlag:false,\n      allEvent:'',\n      reqActiveStatus: false\n    };\n  },\n  \n  computed: {\n    ...mapGetters([\"eventPaginatedData\",\"isLoading\", \"isDeleting\", \"deletedData\"\n              , \"isCreating\", \"createdEventData\", \"isUpdating\", \"updatedEventData\", \"formAction\",\"messageEvent\",\"successStatus\"]) },\n\n  methods: {\n    ...mapActions([\"fetchAllEvent\", \"deleteEvent\", \"storeEvent\",\"updateEvent\",]),\n\n    // Print Event\n    printEvent(){ \n            $(document).ready(function () {\n                $('#modalForPrintEvent').modal('show');\n            });\n            $('#datatablePrint').DataTable().destroy();\n            this.axios\n                .get(this.backend_url + \"events\")\n                .then((res) => {\n                this.allEvent = res.data.userList;\n                $(document).ready(function() {\n                    $('#datatablePrint').DataTable( {\n                        dom: '<\"top\"Bfi>rt<\"top\"lp><\"clear\">', \n                        buttons: [\n                          {\n                                extend: 'csv',\n                                messageTop: 'Event Informations',\n                                title: 'Asf 2022 Event Information Table'\n                           },\n                           {\n                                extend: 'print',\n                                messageTop: 'Event Informations',\n                                title: 'Asf 2022 Event Information Table'\n                           },\n                        ]\n                    } );\n                    $('.buttons-print').each(function() {\n                    $(this).removeClass('btn-default').addClass('print-button')\n                    })\n\n                    $('.buttons-csv').each(function() {\n                    $(this).removeClass('btn-default').addClass('csv-button')\n                    }) \n\n                    $('.dt-buttons').each(function() { \n                    $(this).css({ float: 'left' });\n                    })\n\n\n                    $('.dataTables_length').each(function() { \n                    $(this).css({ margin: '10px' });\n                    })\n\n                    $('#datatablePrint .dataTables_filter').each(function() { \n                    $(this).css({ float: 'right' });\n                    })\n\n                } );\n            })\n    },\n\n    getResults() {\n      this.fetchAllEvent(this.query);\n    },\n\n    searchEvent() {\n     this.query.page = null;\n     this.fetchAllEvent(this.query);\n    },\n\n    onFileUpload(e) {\n        let file = e.target.files[0];\n        let reader = new FileReader();\n\n        if (file[\"size\"] < 10111775) {\n            reader.onloadend = (file) => {\n                console.log(file);\n                this.gallerImage = reader.result;\n            };\n            reader.readAsDataURL(file);\n        } else {\n            alert(\"File size can not be bigger than 10 MB\");\n        }\n        reader.onload = function (e) {\n            $('#prvImg').attr('src', e.target.result);\n        };\n\n    },\n\n    // button click for open modal\n    addEvent() { \n      this.editConceptNote =\"\";\n      this.editImageFlag = false;\n      this.eventTitle = \"\";\n      this.eventAbstract = \"\";\n      this.eventContent = \"\";\n      this.$refs.form.resetForm();\n      $(document).ready(function () {\n        $('#exampleModalCenter').modal('show');\n      });\n    },\n\n    pickFile(ev){\n      const file = ev.target.files[0];\n      const reader = new FileReader();\n      reader.onloadend = (file) => {\n          console.log(file);\n          this.conceptNote = reader.result;\n      };\n      reader.readAsDataURL(file);    \n      //this.conceptNote = ev.target.files[0];   \n    },\n\n      handleUser(event) {\n          console.log(this.conceptNote);\n          console.log(event);\n          \n      if (this.$store.getters.formAction == 'insert') {   \n        \n      this.$swal\n        .fire({\n          text: \"If You Insert This Event, Other Event Will be Inactivated !\",\n          icon: \"error\",\n          cancelButtonText: \"Cancel\",\n          confirmButtonText: \"Yes, Confirm This Event\",\n          showCancelButton: true,\n        })\n        .then((result) => {\n          if (result[\"isConfirmed\"]) {\n            // Put delete logic\n            this.storeEvent({\n            title: this.eventTitle,\n            abstract: this.eventAbstract,\n            content: this.eventContent,\n            from_date: event.fromDate,\n            to_date: event.toDate,\n            venue: event.eventVenue,\n            feature_image: this.gallerImage,\n            concept_note: this.conceptNote,\n            reg_active_status: this.reqActiveStatus == true ? 1 : 0,\n            status:event.eventStatus\n        });               \n        this.fetchAllSchedule({\n            page: 1,\n            search: ''\n            });\n        this.$swal.fire({\n          text: \"Success, User has been deleted.\",\n          icon: \"success\",\n          position: 'top-end',\n          timer: 1000,\n        });           \n        }\n        });\n               \n      } else {  //edit\n        if(event.eventStatus == 1){\n        this.$swal\n          .fire({\n            text: \"If You Update This Event, Other Event Will be Inactivated !\",\n            icon: \"error\",\n            cancelButtonText: \"Cancel\",\n            confirmButtonText: \"Yes, Update This Event\",\n            showCancelButton: true,\n          })\n          .then((result) => {\n            if (result[\"isConfirmed\"]) {\n            this.updateEvent({\n            id: this.id,\n            title: this.eventTitle,\n            abstract: this.eventAbstract,\n            content: this.eventContent,\n            concept_note: this.conceptNote,\n            from_date: event.fromDate,\n            to_date: event.toDate,\n            venue: event.eventVenue,\n            reg_active_status: this.reqActiveStatus == true ? 1 : 0,\n            feature_image: this.gallerImage,\n            status:event.eventStatus\n          });\n            this.$swal.fire({\n              text: \"Success, User has been deleted.\",\n              icon: \"success\",\n              position: 'top-end',\n              timer: 1000,\n            });            \n          }\n          });\n        }else{\n          this.updateEvent({\n            id: this.id,\n            title: this.eventTitle,\n            abstract: this.eventAbstract,\n            content: this.eventContent,\n            concept_note: this.conceptNote,\n            from_date: event.fromDate,\n            to_date: event.toDate,\n            venue: event.eventVenue,\n            reg_active_status: this.reqActiveStatus == true ? 1 : 0,\n            feature_image: this.gallerImage,\n            status:0\n          });\n        }\n\n      }\n      $(document).ready(function () {\n        $('#exampleModalCenter').modal('hide');\n      });   \n    },\n\n    onEdit(events) {\n      console.log(events);\n      this.editImageFlag = true;\n      $(document).ready(function () {\n        $('#exampleModalCenter').modal('show');\n      });\n      console.log(events);\n      this.id = events.id;\n      this.eventTitle = events.title;\n      this.eventAbstract = events.abstract;\n      this.eventContent = events.content;\n      this.fromDate = events.from_date;\n      this.toDate = events.to_date;\n      this.eventVenue = events.venue;\n\n      this.reqActiveStatus = events.reg_active_status == 1 ? true : false;\n      this.eventStatus = events.status;\n      this.editImage = this.base_url_for_resource +'uploads/events_feature_image/'+events.feature_image;\n      this.editConceptNote = this.base_url_for_resource +'uploads/conceptNote/'+events.concept_note;\n      this.$store.commit('fromActionStatus', 'edit');\n      this.eventForm = this.validationEdit;\n    },\n\n    deleteEvent(id) {\n      this.$swal\n        .fire({\n          text: \"Are you sure to delete the user ?\",\n          icon: \"error\",\n          cancelButtonText: \"Cancel\",\n          confirmButtonText: \"Yes, Confirm Delete\",\n          showCancelButton: true,\n        })\n        .then((result) => {\n          if (result[\"isConfirmed\"]) {\n            // Put delete logic\n              this.deleteEvent(id);\n              \n                this.fetchAllEvent({\n                page: 1,\n                search: ''\n                });\n            this.$swal.fire({\n              text: \"Success, User has been deleted.\",\n              icon: \"success\",\n              position: 'top-end',\n              timer: 1000,\n            });\n            \n          }\n        });\n    },\n    //Data Return\n    formatDate(value) {\n        return moment(value).format('DD MMMM YYYY')\n    }, \n\n  },\n\n  created() {\n   this.fetchAllEvent(this.query);\n  },\n\n  watch: {   \n      createdEventData: function () {\n          if (this.createdEventData !== null && !this.isCreating) {\n        this.fetchAllEvent({\n              page: 1,\n              search: ''\n            });\n        this.$swal.fire({\n          text: \"Success, Event has been added successfully.\",\n          icon: \"success\",\n          position: \"top-end\",\n          timer: 1000,\n        });\n        this.$refs.form.resetForm();\n        //setTimeout(function(){ location.reload(); }, 500);\n      }\n    },\n\n    updatedEventData: function () {\n      if (this.updatedEventData != null && !this.isUpdating) {\n        this.fetchAllEvent({\n              page: 1,\n              search: ''\n            });\n        this.$store.commit('fromActionStatus', 'insert');\n        this.eventForm = this.validationCreate;\n        this.$swal.fire({\n          text: \"Success, Event has been Updated.\",\n          icon: \"success\",\n          position: \"top-end\",\n          timer: 1000,\n        });\n        this.$refs.form.resetForm();\n        //setTimeout(function(){ location.reload(); }, 500);\n      }\n    },\n\n\n  },\n\n}\n\n\n</script>\n\n<style scoped>\n\n.iconsubmit {\n    position: relative;\n    font-size: 1.3em;\n    z-index: 1;\n    left: -30px;\n    top: 11px;\n    cursor:pointer;\n    width: 0;\n}\n\n.iconsubmit:hover {\n  color: #add8e6;\n}\n\n.ui.inverted.dimmer {\ncolor: #009688 !important;\n\n}\n.upload-options {\n    width: 100%;\n    border-radius: 5px;\n    margin-bottom: 5px;\n}\n\n.upload-options label {\n    display: block;\n    align-items: center;\n    font-weight: 400;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    cursor: pointer;\n    overflow: hidden;\n    padding: 10px;\n    text-align: center;\n    background: #007dac;\n    color: white;\n    margin: 0;\n}\n\n.upload-options label:hover {\n    background-color: #0a466e;\n}\n\n.upload-options input {\n    width: 0.1px;\n    height: 0.1px;\n    opacity: 0;\n    overflow: hidden;\n    position: absolute;\n    z-index: -1;\n}\n\n.input-group-text-label {\n  width: 117px !important;\n}\n\n\n#ck-control-two div.ck-content {\n    max-height: 80px !important;\n    height: 80px;\n}\n.error-feedback {\n    position: absolute;\n    bottom: -15px;\n\n}\n@media (max-width: 1000px) {\n    .modal-xl {\n        max-width:90%;\n    }\n}\n</style>"]},"metadata":{},"sourceType":"module"}