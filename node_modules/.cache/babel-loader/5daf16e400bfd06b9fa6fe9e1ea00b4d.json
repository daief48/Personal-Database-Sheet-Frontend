{"ast":null,"code":"import myUpload from 'vue-image-crop-upload';\nimport $ from 'jquery';\nimport { VueDraggableNext } from 'vue-draggable-next';\nexport default {\n  components: {\n    myUpload,\n    draggable: VueDraggableNext\n  },\n  props: ['data'],\n\n  data() {\n    return {\n      backend_url: process.env.VUE_APP_API_URL,\n      //image cropper\n      show: false,\n      params: {\n        token: '123456798',\n        name: 'avatar'\n      },\n      headers: {\n        smail: '*_~'\n      },\n      imgDataUrl: '',\n      langExt: {\n        hint: 'Click or drag the file here to upload',\n        loading: 'Uploading…',\n        noSupported: 'Browser is not supported, please use IE10+ or other browsers',\n        success: 'Upload success',\n        fail: 'Upload failed',\n        preview: 'Preview',\n        btn: {\n          off: 'Cancel',\n          close: 'Close',\n          back: 'Back',\n          save: 'Crop'\n        },\n        error: {\n          onlyImg: 'Image only',\n          outOfSize: 'Image exceeds size limit: ',\n          lowestPx: 'Image\\'s size is too low. Expected at least: '\n        }\n      },\n      departments: [],\n      designations: [],\n      empData: this.data,\n      basicInfo: {\n        name: '',\n        mobileNumber: '',\n        email: '',\n        designation: '',\n        designation_id: '',\n        image: ''\n      },\n      addressDetails: {\n        present_addr_houseno: '',\n        present_addr_roadno: '',\n        present_addr_area: '',\n        present_addr_upazila: '',\n        present_addr_district: '',\n        present_addr_postcode: '',\n        permanent_addr_houseno: '',\n        permanent_addr_roadno: '',\n        permanent_addr_area: '',\n        permanent_addr_upazila: '',\n        permanent_addr_district: '',\n        permanent_addr_postcode: ''\n      },\n      jobs: {\n        department: '',\n        department_id: '',\n        designation: '',\n        designation_id: '',\n        joining_date: '',\n        job_location: ''\n      },\n      educationArr: [],\n      familly_info: {\n        father_name: '',\n        mother_name: '',\n        spouse_name: '',\n        number_of_child: ''\n      },\n      emergency_contact: {\n        emergency_name: '',\n        emergency_relation: '',\n        emergency_phn_number: '',\n        emergency_email: '',\n        emergency_addr: '',\n        emergency_district: ''\n      }\n    };\n  },\n\n  computed: {},\n  methods: {\n    check() {\n      this.axios.get(this.testUrl).then(res => {\n        console.log(res);\n      });\n    },\n\n    onDrag() {\n      console.log(this.educationArr);\n    },\n\n    getDepartmentList() {\n      this.axios.get(this.backend_url + 'getDepartment').then(res => {\n        this.departments = res.data.data;\n        console.log(this.departments);\n      });\n    },\n\n    getDesignationList() {\n      this.axios.get(this.backend_url + 'getDesignationMgt').then(res => {\n        this.designations = res.data.data;\n        console.log(this.designations);\n      });\n    },\n\n    addNewEducationHistory: function () {\n      this.educationArr.push({\n        exam_name: '',\n        institute_name: '',\n        district: '',\n        upazila: '',\n        subject: '',\n        passing_year: '',\n        grade: ''\n      });\n    },\n    removeEducationHistory: function (index) {\n      this.educationArr.splice(index, 1);\n    },\n\n    saveProfile(type) {\n      let formData = new FormData();\n      formData.append('user_id', this.storageData.id);\n\n      if (type == 'basicInfo') {\n        formData.append('name', this.basicInfo.name);\n        formData.append('mobile_number', this.basicInfo.mobileNumber);\n        formData.append('email', this.basicInfo.email);\n        formData.append('designation', this.basicInfo.designation_id);\n        formData.append('image', this.basicInfo.image);\n      }\n\n      if (type == 'addressDetail') {\n        formData.append('present_addr_houseno', this.addressDetails.present_addr_houseno);\n        formData.append('present_addr_roadno', this.addressDetails.present_addr_roadno);\n        formData.append('present_addr_area', this.addressDetails.present_addr_area);\n        formData.append('present_addr_upazila', this.addressDetails.present_addr_upazila);\n        formData.append('present_addr_district', this.addressDetails.present_addr_district);\n        formData.append('present_addr_postcode', this.addressDetails.present_addr_postcode);\n        formData.append('permanent_addr_houseno', this.addressDetails.permanent_addr_houseno);\n        formData.append('permanent_addr_roadno', this.addressDetails.permanent_addr_roadno);\n        formData.append('permanent_addr_area', this.addressDetails.permanent_addr_area);\n        formData.append('permanent_addr_upazila', this.addressDetails.permanent_addr_upazila);\n        formData.append('permanent_addr_district', this.addressDetails.permanent_addr_district);\n        formData.append('permanent_addr_postcode', this.addressDetails.permanent_addr_postcode);\n      }\n\n      if (type == 'jobs') {\n        formData.append('department', this.jobs.department_id);\n        formData.append('designation', this.jobs.designation_id);\n        formData.append('joining_date', this.jobs.joining_date);\n        formData.append('job_location', this.jobs.job_location);\n      }\n\n      if (type == 'education_history') {\n        formData.append('education_history', JSON.stringify(this.educationArr));\n      }\n\n      if (type == 'familly_info') {\n        formData.append('father_name', this.familly_info.father_name);\n        formData.append('mother_name', this.familly_info.mother_name);\n        formData.append('spouse_name', this.familly_info.spouse_name);\n        formData.append('number_of_child', this.familly_info.number_of_child);\n      }\n\n      if (type == 'emergency_contact') {\n        formData.append('emergency_name', this.emergency_contact.emergency_name);\n        formData.append('emergency_relation', this.emergency_contact.emergency_relation);\n        formData.append('emergency_phn_number', this.emergency_contact.emergency_phn_number);\n        formData.append('emergency_email', this.emergency_contact.emergency_email);\n        formData.append('emergency_addr', this.emergency_contact.emergency_addr);\n        formData.append('emergency_district', this.emergency_contact.emergency_district);\n      }\n\n      this.axios.post(this.backend_url + 'user/updateProfile', formData).then(res => {\n        console.log(res.data);\n        this.getProfileInfo();\n        $(\".closeModal\").trigger(\"click\");\n        this.$toast.success(\"Profile saved successfully.\", {\n          position: \"top-right\"\n        });\n      });\n    },\n\n    toggleShow() {\n      this.show = !this.show;\n    },\n\n    cropSuccess(imgDataUrl, field) {\n      console.log('-------- crop success --------');\n      this.imgDataUrl = imgDataUrl;\n      this.basicInfo.image = imgDataUrl;\n      console.log('field: ' + field);\n      console.log('dataUrl: ' + imgDataUrl);\n      this.show = !this.show;\n    },\n\n    cropUploadSuccess(jsonData, field) {\n      console.log('-------- upload success --------');\n      console.log(jsonData);\n      console.log('field: ' + field);\n    },\n\n    cropUploadFail(status, field) {\n      console.log('-------- upload fail --------');\n      console.log(status);\n      console.log('field: ' + field);\n    }\n\n  },\n\n  created() {\n    this.getProfileInfo();\n    this.getDepartmentList();\n    this.getDesignationList();\n  },\n\n  watch: {\n    data(newValue) {\n      this.basicInfo.name = newValue.name;\n      this.basicInfo.mobileNumber = newValue.mobile_number;\n      this.basicInfo.email = newValue.email;\n      this.basicInfo.designation = newValue.designation;\n      this.basicInfo.designation_id = newValue.designation_id;\n      this.imgDataUrl = this.base_url_for_resource + 'images/' + newValue.image;\n      this.addressDetails.present_addr_houseno = newValue.present_addr_houseno;\n      this.addressDetails.present_addr_roadno = newValue.present_addr_roadno;\n      this.addressDetails.present_addr_area = newValue.present_addr_area;\n      this.addressDetails.present_addr_upazila = newValue.present_addr_upazila;\n      this.addressDetails.present_addr_district = newValue.present_addr_district;\n      this.addressDetails.present_addr_postcode = newValue.present_addr_postcode;\n      this.addressDetails.permanent_addr_houseno = newValue.permanent_addr_houseno;\n      this.addressDetails.permanent_addr_roadno = newValue.permanent_addr_roadno;\n      this.addressDetails.permanent_addr_area = newValue.permanent_addr_area;\n      this.addressDetails.permanent_addr_upazila = newValue.permanent_addr_upazila;\n      this.addressDetails.permanent_addr_district = newValue.permanent_addr_district;\n      this.addressDetails.permanent_addr_postcode = newValue.permanent_addr_postcode;\n      this.jobs.department_id = newValue.department_id;\n      this.jobs.department = newValue.department;\n      this.jobs.designation_id = newValue.designation_id;\n      this.jobs.designation = newValue.designation;\n      this.jobs.job_location = newValue.job_location;\n      this.jobs.joining_date = newValue.joining_date;\n      this.educationArr = JSON.parse(newValue.education_history);\n      this.familly_info.father_name = newValue.father_name;\n      this.familly_info.mother_name = newValue.mother_name;\n      this.familly_info.spouse_name = newValue.spouse_name;\n      this.familly_info.number_of_child = newValue.number_of_child;\n      this.emergency_contact.emergency_name = newValue.emergency_name;\n      this.emergency_contact.emergency_relation = newValue.emergency_relation;\n      this.emergency_contact.emergency_phn_number = newValue.emergency_phn_number;\n      this.emergency_contact.emergency_email = newValue.emergency_email;\n      this.emergency_contact.emergency_addr = newValue.emergency_addr;\n      this.emergency_contact.emergency_district = this.data.emergency_district;\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["myUpload","$","VueDraggableNext","components","draggable","props","data","backend_url","process","env","VUE_APP_API_URL","show","params","token","name","headers","smail","imgDataUrl","langExt","hint","loading","noSupported","success","fail","preview","btn","off","close","back","save","error","onlyImg","outOfSize","lowestPx","departments","designations","empData","basicInfo","mobileNumber","email","designation","designation_id","image","addressDetails","present_addr_houseno","present_addr_roadno","present_addr_area","present_addr_upazila","present_addr_district","present_addr_postcode","permanent_addr_houseno","permanent_addr_roadno","permanent_addr_area","permanent_addr_upazila","permanent_addr_district","permanent_addr_postcode","jobs","department","department_id","joining_date","job_location","educationArr","familly_info","father_name","mother_name","spouse_name","number_of_child","emergency_contact","emergency_name","emergency_relation","emergency_phn_number","emergency_email","emergency_addr","emergency_district","computed","methods","check","axios","get","testUrl","then","res","console","log","onDrag","getDepartmentList","getDesignationList","addNewEducationHistory","push","exam_name","institute_name","district","upazila","subject","passing_year","grade","removeEducationHistory","index","splice","saveProfile","type","formData","FormData","append","storageData","id","JSON","stringify","post","getProfileInfo","trigger","$toast","position","toggleShow","cropSuccess","field","cropUploadSuccess","jsonData","cropUploadFail","status","created","watch","newValue","mobile_number","base_url_for_resource","parse","education_history"],"sourceRoot":"","sources":["/var/www/html/PMS_PROJECT/pds/src/components/Employee/EditEmployee.vue"],"sourcesContent":["<template>\r\n  <div>\r\n     <h3 class=\"\"><strong> Edit </strong></h3>\r\n     <div class=\"card card-default\">\r\n        <div class=\"card-body\">\r\n           <div class=\"row\">\r\n              <div class=\"col-md-12\">\r\n                 <ul class=\"nav nav-pills mb-3\" id=\"pills-tab\" role=\"tablist\">\r\n                    <li class=\"nav-item\">\r\n                       <a class=\"nav-link active\" id=\"pills-basic-info\" data-toggle=\"pill\" href=\"#basic-info\" role=\"tab\" aria-controls=\"pills-basic-info\" aria-selected=\"true\">Basic Info</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                       <a class=\"nav-link\" id=\"pills-address-deatils\" data-toggle=\"pill\" href=\"#address-details\" role=\"tab\" aria-controls=\"pills-address-details\" aria-selected=\"false\">Address Details</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                       <a class=\"nav-link\" id=\"pills-jobs\" data-toggle=\"pill\" href=\"#jobs\" role=\"tab\" aria-controls=\"pills-jobs\" aria-selected=\"false\">Jobs</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                       <a class=\"nav-link\" id=\"pills-education-history\" data-toggle=\"pill\" href=\"#education-history\" role=\"tab\" aria-controls=\"pills-education-history\" aria-selected=\"false\">Education History</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                       <a class=\"nav-link\" id=\"pills-fimilly-info\" data-toggle=\"pill\" href=\"#familly-info\" role=\"tab\" aria-controls=\"pills-familly-info\" aria-selected=\"false\">Familly Info</a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                       <a class=\"nav-link\" id=\"pills-emergency-contact\" data-toggle=\"pill\" href=\"#emergency-contact\" role=\"tab\" aria-controls=\"pills-emergency-contact\" aria-selected=\"false\">Emergrncy Contact</a>\r\n                    </li>\r\n                 </ul>\r\n                 <div class=\"tab-content\" id=\"pills-tabContent\">\r\n                    <div class=\"tab-pane fade show active p-2\" id=\"basic-info\" role=\"tabpanel\" aria-labelledby=\"pills-basic-info\">\r\n                       <div class=\"d-flex p-2\">\r\n                          <div class=\"d-flex p-2\">\r\n                             <div class=\"bg-light p-2 \">\r\n                                <img :src=\"imgDataUrl\" class=\"d-block\" width=\"300\">\r\n                                <a class=\"btn d-block btn-info text-white mt-1\" @click=\"toggleShow\">Profile Image</a>\r\n                             </div>\r\n                             <div class=\"ml-3\">\r\n                                <table class=\"table table-borderless\">\r\n                                   <tbody>\r\n                                      <tr>\r\n                                         <td><strong>Name:</strong></td>\r\n                                         <td><input type=\"text\" class=\"form-control\" v-model=\"basicInfo.name\"></td>\r\n                                      </tr>\r\n                                      <tr>\r\n                                         <td><strong>Mobile Number:</strong></td>\r\n                                         <td><input type=\"text\" class=\"form-control\" v-model=\"basicInfo.mobileNumber\"></td>\r\n                                      </tr>\r\n                                      <tr>\r\n                                         <td><strong>Email:</strong></td>\r\n                                         <td><input type=\"text\" class=\"form-control\" v-model=\"basicInfo.email\"></td>\r\n                                      </tr>\r\n                                      <tr>\r\n                                         <td><strong>Designation:</strong></td>\r\n                                         <td>\r\n                                            <select v-model=\"basicInfo.designation_id\" class=\"form-control\">\r\n                                               <option value=\"1\">Officer</option>\r\n                                            </select>\r\n                                         </td>\r\n                                      </tr>\r\n                                   </tbody>\r\n                                </table>\r\n                             </div>\r\n                          </div>\r\n                       </div>\r\n                       <button type=\"button\" class=\"btn btn-outline-success\" @click=\"saveProfile('basicInfo')\" >Save Profile</button>\r\n                    </div>\r\n                    <div class=\"tab-pane fade show p-2\" id=\"address-details\" role=\"tabpanel\" aria-labelledby=\"pills-address-details\">\r\n                       <h6>Present Address</h6>\r\n                       <hr>\r\n                       <div class=\"row\">\r\n                          <div class=\"col-md-6\">\r\n                             <table class=\"table table-borderless d-flex\">\r\n                                <tbody>\r\n                                   <tr>\r\n                                      <td><strong>House No:</strong></td>\r\n                                      <td><input type=\"text\" v-model=\"addressDetails.present_addr_houseno\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                   <tr>\r\n                                      <td><strong>Area/Word:</strong></td>\r\n                                      <td><input type=\"text\" v-model=\"addressDetails.present_addr_area\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                   <tr>\r\n                                      <td><strong>District</strong></td>\r\n                                      <td><input type=\"text\" v-model=\"addressDetails.present_addr_district\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                </tbody>\r\n                             </table>\r\n                          </div>\r\n                          <div class=\"col-md-6\">\r\n                             <table class=\"table table-borderless d-flex\">\r\n                                <tbody>\r\n                                   <tr>\r\n                                      <td><strong>Road No:</strong></td>\r\n                                      <td><input type=\"text\" v-model=\"addressDetails.present_addr_roadno\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                   <tr>\r\n                                      <td><strong>Upozila:</strong></td>\r\n                                      <td><input type=\"text\" v-model=\"addressDetails.present_addr_upazila\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                   <tr>\r\n                                      <td><strong>Post Code</strong></td>\r\n                                      <td><input type=\"text\" v-model=\"addressDetails.present_addr_postcode\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                </tbody>\r\n                             </table>\r\n                          </div>\r\n                       </div>\r\n                       <h6 class=\"mt-4\">Parmanent Address</h6>\r\n                       <hr>\r\n                       <div class=\"row\">\r\n                          <div class=\"col-md-6\">\r\n                             <table class=\"table table-borderless d-flex\">\r\n                                <tbody>\r\n                                   <tr>\r\n                                      <td><strong>House No:</strong></td>\r\n                                      <td><input type=\"text\" v-model=\"addressDetails.permanent_addr_houseno\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                   <tr>\r\n                                      <td><strong>Area/Word:</strong></td>\r\n                                      <td><input type=\"text\" v-model=\"addressDetails.permanent_addr_area\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                   <tr>\r\n                                      <td><strong>District</strong></td>\r\n                                      <td><input type=\"text\" v-model=\"addressDetails.permanent_addr_district\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                </tbody>\r\n                             </table>\r\n                          </div>\r\n                          <div class=\"col-md-6\">\r\n                             <table class=\"table table-borderless d-flex\">\r\n                                <tbody>\r\n                                   <tr>\r\n                                      <td><strong>Road No:</strong></td>\r\n                                      <td><input type=\"text\" v-model=\"addressDetails.permanent_addr_roadno\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                   <tr>\r\n                                      <td><strong>Upozila:</strong></td>\r\n                                      <td><input type=\"text\" v-model=\"addressDetails.permanent_addr_upazila\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                   <tr>\r\n                                      <td><strong>Post Code</strong></td>\r\n                                      <td><input type=\"text\" v-model=\"addressDetails.permanent_addr_postcode\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                </tbody>\r\n                             </table>\r\n                          </div>\r\n                       </div>\r\n                       <button type=\"button\" class=\"btn btn-outline-success\" @click=\"saveProfile('addressDetail')\" >Save Profile</button>\r\n                    </div>\r\n                    <div class=\"tab-pane fade show p-2\" id=\"jobs\" role=\"tabpanel\" aria-labelledby=\"pills-jobs\">\r\n                       <div class=\"row\">\r\n                          <div class=\"col-md-6\">\r\n                             <table class=\"table table-borderless d-flex\">\r\n                                <tbody>\r\n                                   <tr>\r\n                                      <td><strong>Department Name:</strong></td>\r\n                                      <td>\r\n                                         <select v-model=\"jobs.department_id\" class=\"form-control\">\r\n                                            <option :value=\"department.id\" v-for=\"department in departments\" :key=\"department.id\">{{ department.dept_name }}</option>\r\n                                         </select>\r\n                                      </td>\r\n                                   </tr>\r\n                                   <tr>\r\n                                      <td><strong>Designation:</strong></td>\r\n                                      <td>\r\n                                         <select v-model=\"jobs.designation_id\" class=\"form-control\">\r\n                                            <option :value=\"designation.id\" v-for=\"designation in designations\" :key=\"designation.id\">{{ designation.designation_name }}</option>\r\n                                         </select>\r\n                                      </td>\r\n                                   </tr>\r\n                                </tbody>\r\n                             </table>\r\n                          </div>\r\n                          <div class=\"col-md-6\">\r\n                             <table class=\"table table-borderless d-flex\">\r\n                                <tbody>\r\n                                   <tr>\r\n                                      <td><strong>Joining Date:</strong></td>\r\n                                      <td><input type=\"date\" v-model=\"jobs.joining_date\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                   <tr>\r\n                                      <td><strong>Job Location:</strong></td>\r\n                                      <td><input type=\"text\" v-model=\"jobs.job_location\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                </tbody>\r\n                             </table>\r\n                          </div>\r\n                       </div>\r\n                       <button type=\"button\" class=\"btn btn-outline-success\" @click=\"saveProfile('jobs')\" >Save Profile</button>\r\n                    </div>\r\n                    <div class=\"tab-pane fade show p-2\" id=\"education-history\" role=\"tabpanel\" aria-labelledby=\"pills-education-history\">\r\n                       <button type=\"button\" class=\"btn btn-outline-primary float-right mt-2 mb-2\" @click=\"addNewEducationHistory\">Add Education</button>\r\n                       <div class=\"\" style=\"max-height: 700px; overflow-y: auto; overflow-x: hidden; max-width: 100%; clear:both\">\r\n                          <draggable class=\"dragArea list-group w-full\" :list=\"educationArr\" @change=\"onDrag\">\r\n                             <div class=\"bg-light mb-3 border-left-cz\" v-for=\"(education,index) in educationArr\" :key=\"index\">\r\n                                <div class=\"input-group m-0 p-3\" style=\"width:calc( 100% - 30px )\">\r\n                                   <div class=\"input-group-prepend\">\r\n                                      <span class=\"input-group-text\" id=\"\">Exam Name</span>\r\n                                   </div>\r\n                                   <input type=\"text\" v-model=\"education.exam_name\" class=\"form-control\" autocomplete=\"off\"/>\r\n                                </div>\r\n                                <div class=\"row\">\r\n                                   <div class=\"col-md-6\">\r\n                                      <table class=\"table table-borderless d-flex\">\r\n                                         <tbody>\r\n                                            <tr>\r\n                                               <td><strong>Institute Name</strong></td>\r\n                                               <td><input type=\"text\" v-model=\"education.institute_name\" class=\"form-control\" autocomplete=\"off\"/></td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                               <td><strong>District:</strong></td>\r\n                                               <td><input type=\"text\" v-model=\"education.district\" class=\"form-control\" autocomplete=\"off\"/></td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                               <td><strong>Subject</strong></td>\r\n                                               <td><input type=\"text\" v-model=\"education.subject\" class=\"form-control\" autocomplete=\"off\"/></td>\r\n                                            </tr>\r\n                                         </tbody>\r\n                                      </table>\r\n                                   </div>\r\n                                   <div class=\"col-md-6\">\r\n                                      <table class=\"table table-borderless d-flex\">\r\n                                         <tbody>\r\n                                            <tr>\r\n                                               <td><strong>Upazila</strong></td>\r\n                                               <td><input type=\"text\" v-model=\"education.upazila\" class=\"form-control\" autocomplete=\"off\"/></td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                               <td><strong>Passing Year:</strong></td>\r\n                                               <td><input type=\"text\" v-model=\"education.passing_year\" class=\"form-control\" autocomplete=\"off\"/></td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                               <td><strong>Grad</strong></td>\r\n                                               <td><input type=\"text\" v-model=\"education.grade\" class=\"form-control\" autocomplete=\"off\"/></td>\r\n                                            </tr>\r\n                                         </tbody>\r\n                                      </table>\r\n                                   </div>\r\n                                </div>\r\n                                <button class=\"btn btn-sm btn-danger float-right ml-1\" style=\"width:30px; line-height: 28px; position:absolute; top:16px; right:10px;\" @click=\"removeEducationHistory (index)\">X</button>\r\n                             </div>\r\n                          </draggable>\r\n                       </div>\r\n                       <button type=\"button\" class=\"btn btn-outline-success float-right mt-2 mr-2\" @click=\"saveProfile('education_history')\" >Save</button>\r\n                    </div>\r\n                    <div class=\"tab-pane fade show p-2\" id=\"familly-info\" role=\"tabpanel\" aria-labelledby=\"pills-familly-info\">\r\n                       <div class=\"row\">\r\n                          <div class=\"col-md-6\">\r\n                             <table class=\"table table-borderless d-flex\">\r\n                                <tbody>\r\n                                   <tr>\r\n                                      <td><strong>Father Name:</strong></td>\r\n                                      <td>\r\n                                         <input type=\"text\" v-model=\"familly_info.father_name\" class=\"form-control\">\r\n                                      </td>\r\n                                   </tr>\r\n                                   <tr>\r\n                                      <td><strong>Spouse Name:</strong></td>\r\n                                      <td>\r\n                                         <input type=\"text\" v-model=\"familly_info.spouse_name\" class=\"form-control\">\r\n                                      </td>\r\n                                   </tr>\r\n                                </tbody>\r\n                             </table>\r\n                          </div>\r\n                          <div class=\"col-md-6\">\r\n                             <table class=\"table table-borderless d-flex\">\r\n                                <tbody>\r\n                                   <tr>\r\n                                      <td><strong>Mother Name</strong></td>\r\n                                      <td><input type=\"text\" v-model=\"familly_info.mother_name\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                   <tr>\r\n                                      <td><strong>Number Of Child:</strong></td>\r\n                                      <td><input type=\"text\" v-model=\"familly_info.number_of_child\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                </tbody>\r\n                             </table>\r\n                          </div>\r\n                       </div>\r\n                       <button type=\"button\" class=\"btn btn-outline-success\" @click=\"saveProfile('familly_info')\" >Save Profile</button>\r\n                    </div>\r\n                    <div class=\"tab-pane fade show\" id=\"emergency-contact\" role=\"tabpanel\" aria-labelledby=\"pills-emergency-contact\">\r\n                       <div class=\"row\">\r\n                          <div class=\"col-md-6\">\r\n                             <table class=\"table table-borderless d-flex\">\r\n                                <tbody>\r\n                                   <tr>\r\n                                      <td><strong>Name:</strong></td>\r\n                                      <td>\r\n                                         <input type=\"text\" v-model=\"emergency_contact.emergency_name\" class=\"form-control\">\r\n                                      </td>\r\n                                   </tr>\r\n                                   <tr>\r\n                                      <td><strong>Mobile No:</strong></td>\r\n                                      <td>\r\n                                         <input type=\"text\" v-model=\"emergency_contact.emergency_phn_number\" class=\"form-control\">\r\n                                      </td>\r\n                                   </tr>\r\n                                   <tr>\r\n                                      <td><strong>Address:</strong></td>\r\n                                      <td>\r\n                                         <input type=\"text\" v-model=\"emergency_contact.emergency_addr\" class=\"form-control\">\r\n                                      </td>\r\n                                   </tr>\r\n                                </tbody>\r\n                             </table>\r\n                          </div>\r\n                          <div class=\"col-md-6\">\r\n                             <table class=\"table table-borderless d-flex\">\r\n                                <tbody>\r\n                                   <tr>\r\n                                      <td><strong>Relation :</strong></td>\r\n                                      <td><input type=\"text\" v-model=\"emergency_contact.emergency_relation\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                   <tr>\r\n                                      <td><strong>Email:</strong></td>\r\n                                      <td><input type=\"text\" v-model=\"emergency_contact.emergency_email\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                   <tr>\r\n                                      <td><strong>District :</strong></td>\r\n                                      <td><input type=\"text\" v-model=\"emergency_contact.emergency_district\" class=\"form-control\"></td>\r\n                                   </tr>\r\n                                </tbody>\r\n                             </table>\r\n                          </div>\r\n                       </div>\r\n                       <button type=\"button\" class=\"btn btn-outline-success\" @click=\"saveProfile('emergency_contact')\" >Save Profile</button>\r\n                    </div>\r\n                 </div>\r\n              </div>\r\n           </div>\r\n        </div>\r\n     </div>\r\n     <my-upload field=\"img\"\r\n     @crop-success=\"cropSuccess\"\r\n     @crop-upload-success=\"cropUploadSuccess\"\r\n     @crop-upload-fail=\"cropUploadFail\"\r\n     v-model=\"show\"\r\n     :width=\"300\"\r\n     :height=\"200\"\r\n     :noCircle=true\r\n     :params=\"params\"\r\n     :headers=\"headers\"\r\n     :langExt=\"langExt\"\r\n     langType=\"en\"\r\n     img-format=\"png\">\r\n     </my-upload>\r\n  </div>\r\n</template>\r\n<script>\r\n  import myUpload from 'vue-image-crop-upload';\r\n  import $ from 'jquery';\r\n  import { VueDraggableNext } from 'vue-draggable-next';\r\n  \r\n  export default {\r\n    components: {\r\n      myUpload,\r\n      draggable: VueDraggableNext,\r\n    },\r\n    props: ['data'],\r\n    data() {\r\n      return {\r\n        backend_url: process.env.VUE_APP_API_URL, \r\n        //image cropper\r\n        show: false,\r\n        params: {\r\n          token: '123456798',\r\n          name: 'avatar'\r\n        },\r\n        headers: {\r\n          smail: '*_~'\r\n        },\r\n        imgDataUrl: '',\r\n  \r\n        langExt: {\r\n            hint: 'Click or drag the file here to upload',\r\n            loading: 'Uploading…',\r\n            noSupported: 'Browser is not supported, please use IE10+ or other browsers',\r\n            success: 'Upload success',\r\n            fail: 'Upload failed',\r\n            preview: 'Preview',\r\n            btn: {\r\n              off: 'Cancel',\r\n              close: 'Close',\r\n              back: 'Back',\r\n              save: 'Crop'\r\n            },\r\n            error: {\r\n              onlyImg: 'Image only',\r\n              outOfSize: 'Image exceeds size limit: ',\r\n              lowestPx: 'Image\\'s size is too low. Expected at least: '\r\n            }\r\n        },\r\n  \r\n        departments:[],\r\n        designations:[],\r\n  \r\n        empData: this.data,\r\n        basicInfo:{\r\n          name: '',\r\n          mobileNumber:'',\r\n          email:'',\r\n          designation:'',\r\n          designation_id:'',\r\n          image:'',\r\n        },\r\n  \r\n        addressDetails:{\r\n          present_addr_houseno:'',\r\n          present_addr_roadno:'',\r\n          present_addr_area:'',\r\n          present_addr_upazila:'',\r\n          present_addr_district:'',\r\n          present_addr_postcode:'',\r\n  \r\n          permanent_addr_houseno:'',\r\n          permanent_addr_roadno:'',\r\n          permanent_addr_area:'',\r\n          permanent_addr_upazila:'',\r\n          permanent_addr_district:'',\r\n          permanent_addr_postcode:'',\r\n  \r\n        },\r\n        jobs:{\r\n          department:'',\r\n          department_id:'',\r\n          designation:'',\r\n          designation_id:'',\r\n          joining_date:'',\r\n          job_location:'',\r\n        },\r\n  \r\n        educationArr:[],\r\n  \r\n        familly_info:{\r\n          father_name:'',\r\n          mother_name:'',\r\n          spouse_name:'',\r\n          number_of_child:'',\r\n        },\r\n        emergency_contact:{\r\n          emergency_name:'',\r\n          emergency_relation:'',\r\n          emergency_phn_number:'',\r\n          emergency_email:'',\r\n          emergency_addr:'',\r\n          emergency_district:'',\r\n        }\r\n      };\r\n    },\r\n    \r\n    computed: { },\r\n  \r\n    methods: {\r\n      check(){\r\n        this.axios\r\n        .get(this.testUrl)\r\n        .then((res) => {\r\n            console.log(res);\r\n        })\r\n      },\r\n      onDrag(){\r\n        console.log(this.educationArr);\r\n      },\r\n  \r\n      getDepartmentList(){\r\n        this.axios\r\n        .get(this.backend_url+'getDepartment')\r\n        .then((res) => {\r\n          this.departments = res.data.data;\r\n          console.log(this.departments);\r\n        })\r\n      },\r\n      getDesignationList(){\r\n        this.axios\r\n        .get(this.backend_url+'getDesignationMgt')\r\n        .then((res) => {\r\n          this.designations = res.data.data;\r\n          console.log(this.designations);\r\n        })\r\n      },\r\n  \r\n      addNewEducationHistory: function () {\r\n        this.educationArr.push({ exam_name: '', institute_name: '', district:'', upazila:'', subject:'', passing_year:'', grade:'' });\r\n      },\r\n  \r\n      removeEducationHistory: function (index) {\r\n        this.educationArr.splice(index,1);\r\n      },\r\n  \r\n\r\n      saveProfile(type){\r\n        let formData = new FormData;\r\n        formData.append('user_id', this.storageData.id);\r\n        if(type == 'basicInfo'){\r\n          formData.append('name', this.basicInfo.name);\r\n          formData.append('mobile_number', this.basicInfo.mobileNumber);\r\n          formData.append('email', this.basicInfo.email);\r\n          formData.append('designation', this.basicInfo.designation_id);\r\n          formData.append('image', this.basicInfo.image);\r\n        }\r\n        if(type == 'addressDetail'){\r\n          formData.append('present_addr_houseno', this.addressDetails.present_addr_houseno);\r\n          formData.append('present_addr_roadno', this.addressDetails.present_addr_roadno);\r\n          formData.append('present_addr_area', this.addressDetails.present_addr_area);\r\n          formData.append('present_addr_upazila', this.addressDetails.present_addr_upazila);\r\n          formData.append('present_addr_district', this.addressDetails.present_addr_district);\r\n          formData.append('present_addr_postcode', this.addressDetails.present_addr_postcode);\r\n  \r\n          formData.append('permanent_addr_houseno', this.addressDetails.permanent_addr_houseno);\r\n          formData.append('permanent_addr_roadno', this.addressDetails.permanent_addr_roadno);\r\n          formData.append('permanent_addr_area', this.addressDetails.permanent_addr_area);\r\n          formData.append('permanent_addr_upazila', this.addressDetails.permanent_addr_upazila);\r\n          formData.append('permanent_addr_district', this.addressDetails.permanent_addr_district);\r\n          formData.append('permanent_addr_postcode', this.addressDetails.permanent_addr_postcode);\r\n        }\r\n  \r\n        if(type == 'jobs'){\r\n          formData.append('department', this.jobs.department_id);\r\n          formData.append('designation', this.jobs.designation_id);\r\n          formData.append('joining_date', this.jobs.joining_date);\r\n          formData.append('job_location', this.jobs.job_location);\r\n        }\r\n  \r\n        if(type == 'education_history'){\r\n          formData.append('education_history', JSON.stringify(this.educationArr));\r\n        }\r\n  \r\n        if(type == 'familly_info'){\r\n          formData.append('father_name', this.familly_info.father_name);\r\n          formData.append('mother_name', this.familly_info.mother_name);\r\n          formData.append('spouse_name', this.familly_info.spouse_name);\r\n          formData.append('number_of_child', this.familly_info.number_of_child);\r\n        }\r\n  \r\n        if(type == 'emergency_contact'){\r\n          formData.append('emergency_name', this.emergency_contact.emergency_name);\r\n          formData.append('emergency_relation', this.emergency_contact.emergency_relation);\r\n          formData.append('emergency_phn_number', this.emergency_contact.emergency_phn_number);\r\n          formData.append('emergency_email', this.emergency_contact.emergency_email);\r\n          formData.append('emergency_addr', this.emergency_contact.emergency_addr);\r\n          formData.append('emergency_district', this.emergency_contact.emergency_district);\r\n        }\r\n        \r\n  \r\n        this.axios\r\n        .post(this.backend_url+'user/updateProfile',formData)\r\n        .then((res) => {\r\n            console.log(res.data);\r\n            this.getProfileInfo();\r\n            $(\".closeModal\").trigger( \"click\" );\r\n            this.$toast.success(\"Profile saved successfully.\", {\r\n              position: \"top-right\",\r\n            });\r\n            \r\n        })\r\n      },\r\n  \r\n  \r\n      toggleShow() {\r\n          this.show = !this.show;\r\n      },\r\n      cropSuccess(imgDataUrl, field){\r\n        console.log('-------- crop success --------');\r\n        this.imgDataUrl = imgDataUrl;\r\n        this.basicInfo.image = imgDataUrl;\r\n        console.log('field: ' + field);\r\n        console.log('dataUrl: ' + imgDataUrl);\r\n        this.show = !this.show;\r\n      },\r\n      cropUploadSuccess(jsonData, field){\r\n        console.log('-------- upload success --------');\r\n        console.log(jsonData);\r\n        console.log('field: ' + field);\r\n      },\r\n      cropUploadFail(status, field){\r\n        console.log('-------- upload fail --------');\r\n        console.log(status);\r\n        console.log('field: ' + field);\r\n      }\r\n  \r\n    },\r\n  \r\n    created() {\r\n      this.getProfileInfo();\r\n      this.getDepartmentList();\r\n      this.getDesignationList();\r\n    },\r\n  \r\n    watch: {\r\n      data(newValue){\r\n        this.basicInfo.name = newValue.name;\r\n        this.basicInfo.mobileNumber = newValue.mobile_number;\r\n        this.basicInfo.email = newValue.email;\r\n        this.basicInfo.designation = newValue.designation;\r\n        this.basicInfo.designation_id = newValue.designation_id;\r\n        this.imgDataUrl= this.base_url_for_resource+'images/'+newValue.image;\r\n  \r\n        this.addressDetails.present_addr_houseno = newValue.present_addr_houseno;\r\n        this.addressDetails.present_addr_roadno = newValue.present_addr_roadno;\r\n        this.addressDetails.present_addr_area = newValue.present_addr_area;\r\n        this.addressDetails.present_addr_upazila = newValue.present_addr_upazila;\r\n        this.addressDetails.present_addr_district = newValue.present_addr_district;\r\n        this.addressDetails.present_addr_postcode = newValue.present_addr_postcode;\r\n        this.addressDetails.permanent_addr_houseno = newValue.permanent_addr_houseno;\r\n        this.addressDetails.permanent_addr_roadno = newValue.permanent_addr_roadno;\r\n        this.addressDetails.permanent_addr_area = newValue.permanent_addr_area;\r\n        this.addressDetails.permanent_addr_upazila = newValue.permanent_addr_upazila;\r\n        this.addressDetails.permanent_addr_district = newValue.permanent_addr_district;\r\n        this.addressDetails.permanent_addr_postcode = newValue.permanent_addr_postcode;\r\n  \r\n        this.jobs.department_id  =  newValue.department_id;\r\n        this.jobs.department     =  newValue.department;\r\n        this.jobs.designation_id =  newValue.designation_id;\r\n        this.jobs.designation    =  newValue.designation;\r\n        this.jobs.job_location   =  newValue.job_location;\r\n        this.jobs.joining_date   =  newValue.joining_date;\r\n  \r\n        this.educationArr = JSON.parse(newValue.education_history);\r\n  \r\n        this.familly_info.father_name = newValue.father_name;\r\n        this.familly_info.mother_name = newValue.mother_name;\r\n        this.familly_info.spouse_name = newValue.spouse_name;\r\n        this.familly_info.number_of_child = newValue.number_of_child;\r\n  \r\n        this.emergency_contact.emergency_name       = newValue.emergency_name;\r\n        this.emergency_contact.emergency_relation   = newValue.emergency_relation;\r\n        this.emergency_contact.emergency_phn_number = newValue.emergency_phn_number;\r\n        this.emergency_contact.emergency_email      = newValue.emergency_email;\r\n        this.emergency_contact.emergency_addr       = newValue.emergency_addr;\r\n        this.emergency_contact.emergency_district   = this.data.emergency_district;\r\n      }\r\n    },\r\n  \r\n  }\r\n  \r\n  \r\n</script>\r\n<style>\r\n  .ui.inverted.dimmer {\r\n  color: #009688 !important;\r\n  }\r\n  .cropper {\r\n  height: 400px;\r\n  width: 400px;\r\n  background: #DDD;\r\n  }\r\n  .file-btn {\r\n  position: relative;\r\n  display: block;\r\n  cursor: pointer;\r\n  }\r\n  .file-btn input {\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n  left: 0;\r\n  top: 0;\r\n  opacity: 0;\r\n  cursor: pointer;\r\n  }    \r\n</style>\r\n<style scoped>\r\n  ::v-deep .modal-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  }\r\n  ::v-deep .modal-content {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 0 1rem;\r\n  padding: 1rem;\r\n  border: 1px solid #e2e8f0;\r\n  border-radius: 0.25rem;\r\n  background: #fff;\r\n  }\r\n  .modal__title {\r\n  margin: 0 2rem 0 0;\r\n  font-size: 1.5rem;\r\n  font-weight: 700;\r\n  }\r\n  .modal__close {\r\n  position: absolute;\r\n  top: 0.5rem;\r\n  right: 0.5rem;\r\n  }\r\n</style>\r\n<style scoped>\r\n  .dark-mode div::v-deep .modal-content {\r\n  border-color: #2d3748;\r\n  background-color: #1a202c;\r\n  }\r\n  .table-borderless > tbody > tr > td,\r\n  .table-borderless > tbody > tr > th,\r\n  .table-borderless > tfoot > tr > td,\r\n  .table-borderless > tfoot > tr > th,\r\n  .table-borderless > thead > tr > td,\r\n  .table-borderless > thead > tr > th {\r\n  border: none;\r\n  }\r\n  .nav-pills .nav-link.active, .nav-pills .show>.nav-link {\r\n  color: #333333;\r\n  background:none !important;\r\n  font-weight: bold;\r\n  }\r\n  .nav-pills .nav-link{\r\n  font-size: 20px !important;\r\n  }\r\n  .border-left-cz{\r\n  border-left:5px solid #7dacdb;\r\n  cursor:grab;\r\n  cursor:move;\r\n  position: relative;\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module"}