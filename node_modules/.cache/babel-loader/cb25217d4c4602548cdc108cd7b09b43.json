{"ast":null,"code":"import { createToast } from 'mosha-vue-toastify';\nimport { Cropper } from 'vue-advanced-cropper';\nimport 'vue-advanced-cropper/dist/style.css';\nimport 'mosha-vue-toastify/dist/style.css';\nimport \"datatables.net-dt/js/dataTables.dataTables\";\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\";\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport * as yup from \"yup\";\nimport $ from 'jquery';\nexport default {\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n    Cropper\n  },\n\n  data() {\n    const validationCreate = yup.object().shape({\n      imageAlbum: yup.string().required(\"Gallery Image Album is required!\"),\n      caption: yup.string().required(\"Caption is required!\"),\n      status: yup.string().required(\"Status is required!\"),\n      image: yup.string().required(\"Image is required!\")\n    });\n    const validationUpdate = yup.object().shape({\n      imageAlbum: yup.string().required(\"Gallery Image Album is required!\"),\n      caption: yup.string().required(\"Caption is required!\"),\n      status: yup.string().required(\"Status is required!\")\n    });\n    return {\n      backend_url: process.env.VUE_APP_API_URL,\n      base_url_for_image: this.base_url_for_resource,\n      galleryImageValidationForCreate: validationCreate,\n      galleryImageValidationForUpdate: validationUpdate,\n      editImageFlag: false,\n      galleryImages: {},\n      imageAlbums: {},\n      updateId: '',\n      thumbnail: '',\n      imageAlbum: '',\n      editImage: '',\n      cropData: '',\n      caption: '',\n      order: '',\n      status: '',\n      image: '',\n      img: '',\n      edit: {\n        caption: '',\n        order: '',\n        status: ''\n      },\n      fullViewImage: '',\n      allGalleryImage: '',\n      markImageForHomePage: 0,\n      checkboxForHomepage: true,\n      eventTitle: ''\n    };\n  },\n\n  methods: {\n    // Print Gallery Image\n    printGalleryImage() {\n      $(document).ready(function () {\n        $('#modalForPrintGalleryImage').modal('show');\n      });\n      $('#datatablePrint').DataTable().destroy();\n      this.axios.get(this.backend_url + \"images\").then(res => {\n        this.allGalleryImage = res.data.galleryImageList;\n        $(document).ready(function () {\n          $('#datatablePrint').DataTable({\n            dom: '<\"top\"Bfi>rt<\"top\"lp><\"clear\">',\n            buttons: [{\n              extend: 'csv',\n              messageTop: 'Gallery Image Informations',\n              title: 'Asf 2022 Gallery Image Information Table'\n            }, {\n              extend: 'print',\n              messageTop: 'Gallery Image Informations',\n              title: 'Asf 2022 Gallery Image Information Table'\n            }]\n          });\n          $('.buttons-print').each(function () {\n            $(this).removeClass('btn-default').addClass('print-button');\n          });\n          $('.buttons-csv').each(function () {\n            $(this).removeClass('btn-default').addClass('csv-button');\n          });\n          $('.dt-buttons').each(function () {\n            $(this).css({\n              float: 'left'\n            });\n          });\n          $('.dataTables_length').each(function () {\n            $(this).css({\n              margin: '10px'\n            });\n          });\n          $('#datatablePrint .dataTables_filter').each(function () {\n            $(this).css({\n              float: 'right'\n            });\n          });\n        });\n      });\n    },\n\n    onEdit(image) {\n      this.updateId = image.id;\n      this.editImageFlag = true;\n      $(document).ready(function () {\n        $('#galleryImageModalEdit').modal('show');\n      });\n      this.edit.caption = image.caption;\n      this.edit.order = image.order;\n      this.edit.status = image.status;\n      this.edit.imageAlbum = image.albumId;\n      this.edit.markImageForHomePage = image.mark_image_for_homepage;\n      this.editImage = this.base_url_for_image + 'uploads/images/gallery/' + image.thumbnail;\n      this.fullViewImage = this.base_url_for_image + 'uploads/images/gallery/' + image.image;\n\n      if (this.edit.markImageForHomePage == 1) {\n        this.checkboxForHomepage = true;\n      } else {\n        this.checkboxForHomepage = false;\n      }\n    },\n\n    //Update Gallery Image\n    updateGalleryImage() {\n      this.axios.put(this.backend_url + \"updateGalleryImage/\" + this.updateId, {\n        caption: this.edit.caption,\n        image: this.image,\n        order: this.edit.order,\n        markImageForHomePage: this.edit.mark_image_for_homepage,\n        status: this.edit.status,\n        album_id: this.edit.imageAlbum,\n        mark_image_for_homepage: this.checkboxForHomepage == true ? 1 : 0,\n        thumbnail: this.thumbnail ? this.thumbnail : this.img\n      }).then(res => {\n        console.log(res);\n        createToast(res.data.message, {\n          position: 'top-center',\n          transition: 'bounce',\n          timeout: 1500,\n          type: 'success'\n        });\n        this.getGalleryImages();\n        $(document).ready(function () {\n          $('#galleryImageModalEdit').modal('hide');\n        });\n        this.editImageFlag = false;\n      }).catch(err => {\n        alert(err);\n      });\n    },\n\n    //Create New Gallery Image\n    createNewGalleryImage() {\n      this.axios.post(this.backend_url + \"addGalleryImage\", {\n        caption: this.caption,\n        image: this.image,\n        order: this.order,\n        mark_image_for_homepage: this.markImageForHomePage,\n        status: this.status,\n        album_id: this.imageAlbum,\n        thumbnail: this.thumbnail ? this.thumbnail : ''\n      }).then(res => {\n        console.log(res);\n        createToast(res.data.message, {\n          position: 'top-center',\n          transition: 'bounce',\n          timeout: 1500,\n          type: 'success'\n        });\n        this.getGalleryImages();\n        $(document).ready(function () {\n          $('#galleryImageModal').modal('hide');\n        });\n      }).catch(err => {\n        //alert(err);\n        console.log(err);\n      });\n    },\n\n    //Add Gallery Image\n    addGalleryImage() {\n      //this.$refs.form.resetForm();\n      // this.$refs.form.reset();\n      var test = $(\".error-feedback\").val();\n      console.log(test);\n      this.caption = '';\n      this.order = '';\n      this.status = 0;\n      this.imageAlbum = '';\n      this.editImageFlag = false;\n      $(document).ready(function () {\n        $('#galleryImageModal').modal('show');\n      });\n    },\n\n    //Croping image(Crop(image) -> Button) =>\n    cropImage(e) {\n      console.log(e);\n      let reader = new FileReader();\n      console.log(reader);\n      this.thumbnail = this.cropData;\n\n      if (this.thumbnail) {\n        this.editImageFlag = false;\n        var pic = this.thumbnail;\n        $(document).ready(function () {\n          $('#remarkModal').modal('hide');\n          $('#prvImg').attr('src', pic);\n        });\n        $(document).ready(function () {\n          $('#remarkModal').modal('hide');\n          $('#prvImgEdit').attr('src', pic);\n        });\n      }\n    },\n\n    //Croping image params\n    changes({\n      coordinates,\n      canvas\n    }) {\n      console.log(coordinates, canvas);\n      this.cropData = canvas.toDataURL();\n    },\n\n    //Delete Specific Image\n    onDelete(id) {\n      this.axios.delete(this.backend_url + \"deleteGalleryImage/\" + id).then(res => {\n        createToast(res.data.message, {\n          position: 'top-center',\n          transition: 'bounce',\n          timeout: 1500,\n          type: 'danger'\n        });\n        this.getGalleryImages();\n      });\n    },\n\n    //Get All Images\n    getGalleryImages() {\n      // $('#datatable').DataTable().destroy();\n      this.axios.get(this.backend_url + \"images\").then(res => {\n        this.eventTitle = res.data.activeEvent.title;\n        this.galleryImages = res.data.galleryImageList;\n        $(document).ready(function () {\n          $('#datatable').DataTable();\n        });\n      });\n    },\n\n    //Active Image Album\n    onActive(id) {\n      this.axios.patch(this.backend_url + \"activeGalleryImage/\" + id).then(res => {\n        console.log(res);\n        createToast('Active Gallery Image Successfully', {\n          position: 'top-center',\n          transition: 'bounce',\n          timeout: 1500,\n          type: 'success'\n        });\n        this.getGalleryImages();\n      });\n    },\n\n    //Inactive Image Album\n    onInactive(id) {\n      this.axios.patch(this.backend_url + \"inactiveGalleryImage/\" + id).then(res => {\n        console.log(res);\n        createToast('Inactive Gallery Image Successfully', {\n          position: 'top-center',\n          transition: 'bounce',\n          timeout: 1500,\n          type: 'danger'\n        });\n        this.getGalleryImages();\n      });\n    },\n\n    //Get All Image Album Dropdown\n    getImageAlbum() {\n      this.axios.get(this.backend_url + \"getImageAlbums\").then(res => {\n        this.imageAlbums = res.data.data;\n        console.log(this.imageAlbums);\n      });\n    },\n\n    pickFile(ev) {\n      const file = ev.target.files[0];\n      const reader = new FileReader();\n\n      reader.onloadend = file => {\n        console.log(file);\n        this.image = reader.result;\n      };\n\n      reader.readAsDataURL(file);\n    },\n\n    onFileUpload(e) {\n      let file = e.target.files[0];\n      let reader = new FileReader();\n      this.img = '';\n\n      if (file[\"size\"] < 100111775) {\n        reader.onloadend = file => {\n          console.log(file);\n          this.img = reader.result;\n        };\n\n        reader.readAsDataURL(file);\n      } else {\n        alert(\"File size can not be bigger than 10 MB\");\n      }\n\n      $('#remarkModal').modal('show');\n    }\n\n  },\n\n  created() {\n    this.getGalleryImages();\n    this.getImageAlbum();\n  },\n\n  mounted() {\n    $(function () {\n      $('[data-toggle=\"tooltip\"]').tooltip();\n    });\n  }\n\n};","map":{"version":3,"mappings":"AAuhBA,SAASA,WAAT,QAA4B,oBAA5B;AACA,SAASC,OAAT,QAAwB,sBAAxB;AACA,OAAO,qCAAP;AACA,OAAO,mCAAP;AACA,OAAO,4CAAP;AACA,OAAO,iDAAP;AACA,SAASC,IAAT,EAAcC,KAAd,EAAoBC,YAApB,QAAwC,cAAxC;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,eAAe;EACXC,UAAU,EAAE;IACRL,IADQ;IAERC,KAFQ;IAGRC,YAHQ;IAIRH;EAJQ,CADD;;EAQXO,IAAI,GAAG;IACC,MAAMC,gBAAe,GAAIJ,GAAG,CAACK,MAAJ,GAAaC,KAAb,CAAmB;MAC5CC,UAAU,EAAEP,GAAE,CACTQ,MADO,GAEPC,QAFO,CAEE,kCAFF,CADgC;MAI5CC,OAAO,EAAEV,GAAE,CACNQ,MADI,GAEJC,QAFI,CAEK,sBAFL,CAJmC;MAO5CE,MAAM,EAAEX,GAAE,CACLQ,MADG,GAEHC,QAFG,CAEM,qBAFN,CAPoC;MAU5CG,KAAK,EAAEZ,GAAE,CACJQ,MADE,GAEFC,QAFE,CAEO,oBAFP;IAVqC,CAAnB,CAAzB;IAeJ,MAAMI,gBAAe,GAAIb,GAAG,CAACK,MAAJ,GAAaC,KAAb,CAAmB;MACxCC,UAAU,EAAEP,GAAE,CACTQ,MADO,GAEPC,QAFO,CAEE,kCAFF,CAD4B;MAIxCC,OAAO,EAAEV,GAAE,CACNQ,MADI,GAEJC,QAFI,CAEK,sBAFL,CAJ+B;MAOxCE,MAAM,EAAEX,GAAE,CACLQ,MADG,GAEHC,QAFG,CAEM,qBAFN;IAPgC,CAAnB,CAAzB;IAWA,OAAO;MACHK,WAAW,EAAEC,OAAO,CAACC,GAAR,CAAYC,eADtB;MAEHC,kBAAiB,EAAI,KAAKC,qBAFvB;MAGHC,+BAA+B,EAAChB,gBAH7B;MAIHiB,+BAA+B,EAACR,gBAJ7B;MAMHS,aAAa,EAAC,KANX;MAOHC,aAAa,EAAC,EAPX;MAQHC,WAAW,EAAC,EART;MASHC,QAAQ,EAAC,EATN;MAUHC,SAAS,EAAC,EAVP;MAWHnB,UAAU,EAAC,EAXR;MAYHoB,SAAS,EAAC,EAZP;MAaHC,QAAQ,EAAC,EAbN;MAcHlB,OAAO,EAAC,EAdL;MAeHmB,KAAK,EAAC,EAfH;MAgBHlB,MAAM,EAAC,EAhBJ;MAiBHC,KAAK,EAAC,EAjBH;MAkBHkB,GAAG,EAAC,EAlBD;MAmBHC,IAAI,EAAC;QACDrB,OAAO,EAAC,EADP;QAEDmB,KAAK,EAAC,EAFL;QAGDlB,MAAM,EAAC;MAHN,CAnBF;MAwBHqB,aAAa,EAAC,EAxBX;MAyBHC,eAAe,EAAC,EAzBb;MA0BHC,oBAAoB,EAAE,CA1BnB;MA2BHC,mBAAmB,EAAE,IA3BlB;MA4BHC,UAAU,EAAC;IA5BR,CAAP;EA+BH,CAlEU;;EAoEXC,OAAO,EAAE;IAEL;IACAC,iBAAiB,GAAE;MACfrC,CAAC,CAACsC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAY;QAC1BvC,CAAC,CAAC,4BAAD,CAAD,CAAgCwC,KAAhC,CAAsC,MAAtC;MACH,CAFD;MAGAxC,CAAC,CAAC,iBAAD,CAAD,CAAqByC,SAArB,GAAiCC,OAAjC;MACA,KAAKC,KAAL,CACKC,GADL,CACS,KAAK/B,WAAL,GAAmB,QAD5B,EAEKgC,IAFL,CAEWC,GAAD,IAAS;QACf,KAAKd,eAAL,GAAuBc,GAAG,CAAC5C,IAAJ,CAAS6C,gBAAhC;QACA/C,CAAC,CAACsC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAW;UACzBvC,CAAC,CAAC,iBAAD,CAAD,CAAqByC,SAArB,CAAgC;YAC5BO,GAAG,EAAE,gCADuB;YAE5BC,OAAO,EAAE,CACL;cACIC,MAAM,EAAE,KADZ;cAEIC,UAAU,EAAE,4BAFhB;cAGIC,KAAK,EAAE;YAHX,CADK,EAMN;cACKF,MAAM,EAAE,OADb;cAEKC,UAAU,EAAE,4BAFjB;cAGKC,KAAK,EAAE;YAHZ,CANM;UAFmB,CAAhC;UAeApD,CAAC,CAAC,gBAAD,CAAD,CAAoBqD,IAApB,CAAyB,YAAW;YACpCrD,CAAC,CAAC,IAAD,CAAD,CAAQsD,WAAR,CAAoB,aAApB,EAAmCC,QAAnC,CAA4C,cAA5C;UACC,CAFD;UAIAvD,CAAC,CAAC,cAAD,CAAD,CAAkBqD,IAAlB,CAAuB,YAAW;YAClCrD,CAAC,CAAC,IAAD,CAAD,CAAQsD,WAAR,CAAoB,aAApB,EAAmCC,QAAnC,CAA4C,YAA5C;UACC,CAFD;UAIAvD,CAAC,CAAC,aAAD,CAAD,CAAiBqD,IAAjB,CAAsB,YAAW;YACjCrD,CAAC,CAAC,IAAD,CAAD,CAAQwD,GAAR,CAAY;cAAEC,KAAK,EAAE;YAAT,CAAZ;UACC,CAFD;UAKAzD,CAAC,CAAC,oBAAD,CAAD,CAAwBqD,IAAxB,CAA6B,YAAW;YACxCrD,CAAC,CAAC,IAAD,CAAD,CAAQwD,GAAR,CAAY;cAAEE,MAAM,EAAE;YAAV,CAAZ;UACC,CAFD;UAIA1D,CAAC,CAAC,oCAAD,CAAD,CAAwCqD,IAAxC,CAA6C,YAAW;YACxDrD,CAAC,CAAC,IAAD,CAAD,CAAQwD,GAAR,CAAY;cAAEC,KAAK,EAAE;YAAT,CAAZ;UACC,CAFD;QAIJ,CArCA;MAsCH,CA1CD;IA4CH,CApDI;;IAuDLE,MAAM,CAAChD,KAAD,EAAO;MACT,KAAKa,QAAL,GAAgBb,KAAK,CAACiD,EAAtB;MAEA,KAAKvC,aAAL,GAAqB,IAArB;MACArB,CAAC,CAACsC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAY;QAC9BvC,CAAC,CAAC,wBAAD,CAAD,CAA4BwC,KAA5B,CAAkC,MAAlC;MACC,CAFD;MAIA,KAAKV,IAAL,CAAUrB,OAAV,GAAoBE,KAAK,CAACF,OAA1B;MACA,KAAKqB,IAAL,CAAUF,KAAV,GAAkBjB,KAAK,CAACiB,KAAxB;MACA,KAAKE,IAAL,CAAUpB,MAAV,GAAmBC,KAAK,CAACD,MAAzB;MACA,KAAKoB,IAAL,CAAUxB,UAAV,GAAuBK,KAAK,CAACkD,OAA7B;MACA,KAAK/B,IAAL,CAAUG,oBAAV,GAAiCtB,KAAK,CAACmD,uBAAvC;MACA,KAAKpC,SAAL,GAAiB,KAAKT,kBAAL,GAA0B,yBAA1B,GAAoDN,KAAK,CAACc,SAA3E;MACA,KAAKM,aAAL,GAAqB,KAAKd,kBAAL,GAA0B,yBAA1B,GAAoDN,KAAK,CAACA,KAA/E;;MACA,IAAG,KAAKmB,IAAL,CAAUG,oBAAV,IAAkC,CAArC,EAAuC;QACnC,KAAKC,mBAAL,GAA2B,IAA3B;MACH,CAFD,MAEK;QACD,KAAKA,mBAAL,GAA2B,KAA3B;MACJ;IAEH,CA5EI;;IA8EL;IACA6B,kBAAkB,GAAE;MAEhB,KAAKpB,KAAL,CACKqB,GADL,CACS,KAAKnD,WAAL,GAAkB,qBAAlB,GAAwC,KAAKW,QADtD,EAC+D;QACvDf,OAAM,EAAI,KAAKqB,IAAL,CAAUrB,OADmC;QAEvDE,KAAI,EAAM,KAAKA,KAFwC;QAGvDiB,KAAI,EAAM,KAAKE,IAAL,CAAUF,KAHmC;QAIvDK,oBAAmB,EAAI,KAAKH,IAAL,CAAUgC,uBAJsB;QAKvDpD,MAAK,EAAK,KAAKoB,IAAL,CAAUpB,MALmC;QAMvDuD,QAAO,EAAI,KAAKnC,IAAL,CAAUxB,UANkC;QAOvDwD,uBAAsB,EAAI,KAAK5B,mBAAL,IAA4B,IAA5B,GAAmC,CAAnC,GAAuC,CAPV;QAQvDT,SAAQ,EAAI,KAAKA,SAAL,GAAiB,KAAKA,SAAtB,GAAkC,KAAKI;MARI,CAD/D,EAUOgB,IAVP,CAUaC,GAAD,IAAO;QACXoB,OAAO,CAACC,GAAR,CAAYrB,GAAZ;QACApD,WAAW,CAACoD,GAAG,CAAC5C,IAAJ,CAASkE,OAAV,EAAmB;UACtBC,QAAQ,EAAE,YADY;UAEtBC,UAAU,EAAE,QAFU;UAGtBC,OAAO,EAAE,IAHa;UAItBC,IAAI,EAAE;QAJgB,CAAnB,CAAX;QAMA,KAAKC,gBAAL;QACAzE,CAAC,CAACsC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAY;UAC9BvC,CAAC,CAAC,wBAAD,CAAD,CAA4BwC,KAA5B,CAAkC,MAAlC;QACC,CAFD;QAGA,KAAKnB,aAAL,GAAqB,KAArB;MAEH,CAxBL,EAwBOqD,KAxBP,CAwBcC,GAAD,IAAQ;QACbC,KAAK,CAACD,GAAD,CAAL;MACH,CA1BL;IA4BH,CA7GI;;IA+GL;IACAE,qBAAqB,GAAE;MAEnB,KAAKlC,KAAL,CACKmC,IADL,CACU,KAAKjE,WAAL,GAAkB,iBAD5B,EAC8C;QACtCJ,OAAM,EAAI,KAAKA,OADuB;QAEtCE,KAAI,EAAM,KAAKA,KAFuB;QAGtCiB,KAAI,EAAM,KAAKA,KAHuB;QAItCkC,uBAAsB,EAAI,KAAK7B,oBAJO;QAKtCvB,MAAK,EAAK,KAAKA,MALuB;QAMtCuD,QAAO,EAAI,KAAK3D,UANsB;QAOtCmB,SAAQ,EAAI,KAAKA,SAAL,GAAiB,KAAKA,SAAtB,GAAkC;MAPR,CAD9C,EASOoB,IATP,CASaC,GAAD,IAAO;QACXoB,OAAO,CAACC,GAAR,CAAYrB,GAAZ;QACApD,WAAW,CAACoD,GAAG,CAAC5C,IAAJ,CAASkE,OAAV,EAAmB;UACtBC,QAAQ,EAAE,YADY;UAEtBC,UAAU,EAAE,QAFU;UAGtBC,OAAO,EAAE,IAHa;UAItBC,IAAI,EAAE;QAJgB,CAAnB,CAAX;QAMA,KAAKC,gBAAL;QACAzE,CAAC,CAACsC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAY;UAC9BvC,CAAC,CAAC,oBAAD,CAAD,CAAwBwC,KAAxB,CAA8B,MAA9B;QACC,CAFD;MAIH,CAtBL,EAsBOkC,KAtBP,CAsBcC,GAAD,IAAQ;QACb;QACAT,OAAO,CAACC,GAAR,CAAYQ,GAAZ;MACH,CAzBL;IA0BH,CA5II;;IA8IL;IACAI,eAAe,GAAE;MACb;MACA;MACA,IAAIC,IAAG,GAAIhF,CAAC,CAAC,iBAAD,CAAD,CAAqBiF,GAArB,EAAX;MACAf,OAAO,CAACC,GAAR,CAAYa,IAAZ;MACA,KAAKvE,OAAL,GAAe,EAAf;MACA,KAAKmB,KAAL,GAAa,EAAb;MACA,KAAKlB,MAAL,GAAc,CAAd;MACA,KAAKJ,UAAL,GAAkB,EAAlB;MACA,KAAKe,aAAL,GAAqB,KAArB;MACArB,CAAC,CAACsC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAY;QAC9BvC,CAAC,CAAC,oBAAD,CAAD,CAAwBwC,KAAxB,CAA8B,MAA9B;MACC,CAFD;IAGH,CA5JI;;IA8JL;IACA0C,SAAS,CAACC,CAAD,EAAG;MACZjB,OAAO,CAACC,GAAR,CAAYgB,CAAZ;MACA,IAAIC,MAAK,GAAI,IAAIC,UAAJ,EAAb;MACAnB,OAAO,CAACC,GAAR,CAAYiB,MAAZ;MACA,KAAK3D,SAAL,GAAiB,KAAKE,QAAtB;;MACA,IAAG,KAAKF,SAAR,EAAkB;QACd,KAAKJ,aAAL,GAAqB,KAArB;QACA,IAAIiE,GAAE,GAAI,KAAK7D,SAAf;QAEAzB,CAAC,CAACsC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAU;UAC5BvC,CAAC,CAAC,cAAD,CAAD,CAAkBwC,KAAlB,CAAwB,MAAxB;UACAxC,CAAC,CAAC,SAAD,CAAD,CAAauF,IAAb,CAAkB,KAAlB,EAAwBD,GAAxB;QACC,CAHD;QAKAtF,CAAC,CAACsC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAU;UAC5BvC,CAAC,CAAC,cAAD,CAAD,CAAkBwC,KAAlB,CAAwB,MAAxB;UACAxC,CAAC,CAAC,aAAD,CAAD,CAAiBuF,IAAjB,CAAsB,KAAtB,EAA4BD,GAA5B;QACC,CAHD;MAIJ;IAGC,CApLI;;IAsLL;IACAE,OAAO,CAAC;MAAEC,WAAF;MAAeC;IAAf,CAAD,EAA0B;MACjCxB,OAAO,CAACC,GAAR,CAAYsB,WAAZ,EAAyBC,MAAzB;MACA,KAAK/D,QAAL,GAAgB+D,MAAM,CAACC,SAAP,EAAhB;IACC,CA1LI;;IA4LL;IACAC,QAAQ,CAAChC,EAAD,EAAI;MACR,KAAKjB,KAAL,CACKkD,MADL,CACY,KAAKhF,WAAL,GAAmB,qBAAnB,GAA0C+C,EADtD,EAEKf,IAFL,CAEWC,GAAD,IAAS;QACXpD,WAAW,CAACoD,GAAG,CAAC5C,IAAJ,CAASkE,OAAV,EAAmB;UACtBC,QAAQ,EAAE,YADY;UAEtBC,UAAU,EAAE,QAFU;UAGtBC,OAAO,EAAE,IAHa;UAItBC,IAAI,EAAE;QAJgB,CAAnB,CAAX;QAMA,KAAKC,gBAAL;MACH,CAVL;IAWH,CAzMI;;IA2ML;IACAA,gBAAgB,GAAE;MACf;MACC,KAAK9B,KAAL,CACKC,GADL,CACS,KAAK/B,WAAL,GAAmB,QAD5B,EAEKgC,IAFL,CAEWC,GAAD,IAAS;QACZ,KAAKX,UAAL,GAAmBW,GAAG,CAAC5C,IAAJ,CAAS4F,WAAT,CAAqB1C,KAAxC;QACA,KAAK9B,aAAL,GAAqBwB,GAAG,CAAC5C,IAAJ,CAAS6C,gBAA9B;QACC/C,CAAC,CAACsC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAY;UAC1BvC,CAAC,CAAC,YAAD,CAAD,CAAgByC,SAAhB;QACH,CAFD;MAGH,CARL;IASH,CAvNI;;IAyNL;IACAsD,QAAQ,CAACnC,EAAD,EAAI;MACR,KAAKjB,KAAL,CACKqD,KADL,CACW,KAAKnF,WAAL,GAAmB,qBAAnB,GAA0C+C,EADrD,EAEKf,IAFL,CAEWC,GAAD,IAAS;QACXoB,OAAO,CAACC,GAAR,CAAYrB,GAAZ;QACApD,WAAW,CAAC,mCAAD,EAAsC;UACzC2E,QAAQ,EAAE,YAD+B;UAEzCC,UAAU,EAAE,QAF6B;UAGzCC,OAAO,EAAE,IAHgC;UAIzCC,IAAI,EAAE;QAJmC,CAAtC,CAAX;QAMA,KAAKC,gBAAL;MACH,CAXL;IAYH,CAvOI;;IAyOL;IACAwB,UAAU,CAACrC,EAAD,EAAI;MACV,KAAKjB,KAAL,CACKqD,KADL,CACW,KAAKnF,WAAL,GAAmB,uBAAnB,GAA4C+C,EADvD,EAEKf,IAFL,CAEWC,GAAD,IAAS;QACXoB,OAAO,CAACC,GAAR,CAAYrB,GAAZ;QACApD,WAAW,CAAC,qCAAD,EAAwC;UAC3C2E,QAAQ,EAAE,YADiC;UAE3CC,UAAU,EAAE,QAF+B;UAG3CC,OAAO,EAAE,IAHkC;UAI3CC,IAAI,EAAE;QAJqC,CAAxC,CAAX;QAMA,KAAKC,gBAAL;MACH,CAXL;IAYH,CAvPI;;IAyPL;IACAyB,aAAa,GAAE;MACX,KAAKvD,KAAL,CACKC,GADL,CACS,KAAK/B,WAAL,GAAmB,gBAD5B,EAEKgC,IAFL,CAEWC,GAAD,IAAS;QACX,KAAKvB,WAAL,GAAmBuB,GAAG,CAAC5C,IAAJ,CAASA,IAA5B;QACAgE,OAAO,CAACC,GAAR,CAAY,KAAK5C,WAAjB;MACH,CALL;IAMH,CAjQI;;IAmQL4E,QAAQ,CAACC,EAAD,EAAI;MACR,MAAMC,IAAG,GAAID,EAAE,CAACE,MAAH,CAAUC,KAAV,CAAgB,CAAhB,CAAb;MACA,MAAMnB,MAAK,GAAI,IAAIC,UAAJ,EAAf;;MACAD,MAAM,CAACoB,SAAP,GAAoBH,IAAD,IAAU;QAC7BnC,OAAO,CAACC,GAAR,CAAYkC,IAAZ;QACA,KAAK1F,KAAL,GAAayE,MAAM,CAACqB,MAApB;MACH,CAHG;;MAIArB,MAAM,CAACsB,aAAP,CAAqBL,IAArB;IACH,CA3QI;;IA6QLM,YAAY,CAACxB,CAAD,EAAI;MAChB,IAAIkB,IAAG,GAAIlB,CAAC,CAACmB,MAAF,CAASC,KAAT,CAAe,CAAf,CAAX;MACA,IAAInB,MAAK,GAAI,IAAIC,UAAJ,EAAb;MACA,KAAKxD,GAAL,GAAW,EAAX;;MACA,IAAIwE,IAAI,CAAC,MAAD,CAAJ,GAAe,SAAnB,EAA8B;QAC5BjB,MAAM,CAACoB,SAAP,GAAoBH,IAAD,IAAU;UACvBnC,OAAO,CAACC,GAAR,CAAYkC,IAAZ;UACA,KAAKxE,GAAL,GAAWuD,MAAM,CAACqB,MAAlB;QACH,CAHH;;QAIErB,MAAM,CAACsB,aAAP,CAAqBL,IAArB;MACJ,CANA,MAMO;QACHzB,KAAK,CAAC,wCAAD,CAAL;MACJ;;MAEA5E,CAAC,CAAC,cAAD,CAAD,CAAkBwC,KAAlB,CAAwB,MAAxB;IAEH;;EA7RQ,CApEE;;EAsWXoE,OAAO,GAAG;IACN,KAAKnC,gBAAL;IACA,KAAKyB,aAAL;EAEH,CA1WU;;EA4WXW,OAAO,GAAE;IACL7G,CAAC,CAAC,YAAY;MACVA,CAAC,CAAC,yBAAD,CAAD,CAA6B8G,OAA7B;IACH,CAFA,CAAD;EAGJ;;AAhXW,CAAf","names":["createToast","Cropper","Form","Field","ErrorMessage","yup","$","components","data","validationCreate","object","shape","imageAlbum","string","required","caption","status","image","validationUpdate","backend_url","process","env","VUE_APP_API_URL","base_url_for_image","base_url_for_resource","galleryImageValidationForCreate","galleryImageValidationForUpdate","editImageFlag","galleryImages","imageAlbums","updateId","thumbnail","editImage","cropData","order","img","edit","fullViewImage","allGalleryImage","markImageForHomePage","checkboxForHomepage","eventTitle","methods","printGalleryImage","document","ready","modal","DataTable","destroy","axios","get","then","res","galleryImageList","dom","buttons","extend","messageTop","title","each","removeClass","addClass","css","float","margin","onEdit","id","albumId","mark_image_for_homepage","updateGalleryImage","put","album_id","console","log","message","position","transition","timeout","type","getGalleryImages","catch","err","alert","createNewGalleryImage","post","addGalleryImage","test","val","cropImage","e","reader","FileReader","pic","attr","changes","coordinates","canvas","toDataURL","onDelete","delete","activeEvent","onActive","patch","onInactive","getImageAlbum","pickFile","ev","file","target","files","onloadend","result","readAsDataURL","onFileUpload","created","mounted","tooltip"],"sourceRoot":"","sources":["/var/www/html/PMS_PROJECT/pds/src/components/Gallery/GalleryImage.vue"],"sourcesContent":["<template>\n    <div>\n        <h4 class=\"text-bold heading-style\">Gallery Images</h4>\n\n        <div class=\"card card-default\">\n\n                <div class=\"card-header\">\n                    <div class=\"col-8\">\n                        <!-- Add New Speaker Button -->\n                        <button class=\"add-button\"\n                        style=\"margin-left: -13px;\"\n                        @click=\"addGalleryImage\"\n                        > \n                        <font-awesome-icon icon=\"fa-solid  fa-plus\" /> \n                        Add New Gallery Image\n                        </button>\n\n                        <button class=\"btn btn-success ml-2\" style=\"padding:5px 6px\" @click=\"printGalleryImage\">\n                            <font-awesome-icon icon=\"fa-solid  fa-rectangle-list\" />\n                            Export\n                        </button>\n                        \n                    </div>\n                </div>\n\n                <div class=\"card-body\">\n                    <!-- Table -->\n                    <div class=\"row\">\n                    <div class=\"col-md-12\">\n                        <table class=\"table table-hover\" id=\"datatable\">\n                            <thead>\n                                <tr>\n                                    <th scope=\"col\">SL</th>\n                                    <th scope=\"col\">Thumbnail Image</th>\n                                    <th scope=\"col\">Album Name</th>\n                                    <th scope=\"col\">Caption</th>\n                                    <th scope=\"col\">Order</th>\n                                    <th scope=\"col\">Status</th>\n                                    <th scope=\"col\">Action</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr v-for=\"(galleryImage,index) in galleryImages\" :key=\"galleryImage.id\">\n                                    <td scope=\"row\">{{index+1}}</td>\n                                    <td>\n                                        <img class=\"img-thumbnail\" style=\"max-width: 90px;\" :src=\"base_url_for_resource +'uploads/images/gallery/' + galleryImage.thumbnail\" alt=\"Thumbnail Image\">\n                                    </td>\n                                    <td>\n                                        <span class=\"font-weight-bold\">{{galleryImage.albumName}}</span>\n                                    </td>\n                                    <td>{{galleryImage.caption}}</td>\n                                    <td>\n                                        <span  class=\"badge rounded-pill bg-dark\"> {{galleryImage.order}}</span>\n                                    </td>\n                                    <td>\n                                        <span class=\"badge\" :class=\"galleryImage.status == 1 ? 'badge-success' : 'badge-info'\"> {{ galleryImage.status == 1 ? 'Active' : 'In-active'}} </span>\n                                    </td>\n                                    <td>\n\n                                    <button v-if=\"galleryImage.status == 0\" class=\"btn btn-success mx-2 btn-sm\" title=\"Active Gallery Image\"  \n                                    @click=\"onActive(galleryImage.id)\">\n                                    <!-- <font-awesome-icon icon=\"fa-solid fa-square-check\" /> -->\n                                    <i class=\"fa fa-toggle-on\" aria-hidden=\"true\"></i>\n                                    </button>\n                                    <button v-else class=\"btn btn-secondary mx-2 btn-sm\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Inactive Gallery Image\"  \n                                    @click=\"onInactive(galleryImage.id)\">\n                                    <!-- <font-awesome-icon icon=\"fa-solid fa-rectangle-xmark\" /> -->\n                                    <i class=\"fa fa-toggle-off\" aria-hidden=\"true\"></i>\n                                    </button>\n                                    |\n                                    <button\n                                    class=\"btn btn-warning mx-2 btn-sm\"\n                                    title=\"Delete User\"\n                                    @click=\"onEdit(galleryImage)\"\n                                    >\n                                    <font-awesome-icon icon=\"fa-solid  fa-pencil\" />\n                                    </button>\n                                    |\n                                    <button class=\"btn btn-danger mx-2 btn-sm\" title=\"Delete Gallery Image\"\n                                    @click=\"onDelete(galleryImage.id)\">\n                                    <font-awesome-icon icon=\"fa-solid  fa-trash\" />\n                                    </button>\n                                </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div> \n                <!-- End -->\n                </div>\n\n                <!-- Modal Add New Gallery Image -->\n                <div class=\"modal fade\" id=\"galleryImageModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n                <div class=\"modal-dialog modal-dialog-centered modal-xl\" role=\"document\">\n                    <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">Gallery Images</h5>\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                    </div>\n\n                    <!-- Modal Body -->\n                    <div class=\"modal-body\">\n                        <div class=\"row justify-content-center mt-2 mb-2 ml-0 mr-0\">\n                            <div class=\"col-md-12 form-bg\">\n                                <!-- Form Start From Here -->\n                                <Form @submit=\"createNewGalleryImage\" :validation-schema=\"galleryImageValidationForCreate\" ref=\"form\">\n                                    <!-- Gallery Image,Caption,Image & Order -->\n                                    <div class=\"row\">\n                                        <div class=\"col-md-12\">\n\n                                        <div class=\"col-md-7 mt-4 d-inline-block float-left\">\n\n                                        <!-- Event Title -->\n                                        <div class=\"row mb-2\">\n                                            <div class=\"col-md-12\">\n                                                <div class=\"input-group border border-dark rounded\">\n                                                    <div class=\"input-group-prepend\">\n                                                    <span class=\"input-group-text p4 input-group-text-label\" >Event Title </span>\n                                                    </div>\n                                                    <label class=\"ml-3 mt-2 \">{{eventTitle}}</label>\n                                                </div>                            \n                                            </div>\n                                        </div>\n                                        <!-- End -->\n\n                                        <div class=\"row\">\n                                            <!-- Gallery Image -->\n                                            <div class=\"col-md-12  mt-2  mb-3 form-group\">\n                                            <div class=\" input-group mb-2\">\n                                                <div class=\"input-group-prepend\">\n                                                    <span class=\"input-group-text p4 input-group-text-label\">Gallery Image Album*</span>\n                                                </div>\n                                                <Field name=\"imageAlbum\" as=\"select\" class=\"form-control\" v-model=\"imageAlbum\">\n                                                <option value=\"\">-- Select Status --</option>\n                                                <option v-for=\"(imageAlbum,index) in imageAlbums\" :key=\"index\" :value=\"imageAlbum.id\">{{imageAlbum.title}}</option>\n                                                </Field>                                          \n                                            </div>\n                                            <ErrorMessage name=\"imageAlbum\" class=\"error-feedback\" style=\"margin-bottom: -10px;\" />\n                                            </div>\n                                            <!-- End -->\n\n                                            <!-- Caption -->\n                                            <div class=\"col-md-12 mt-2 mb-3 form-group\">\n                                                <div class=\"input-group\">\n                                                    <div class=\"input-group-prepend\">\n                                                        <span class=\"input-group-text p4 input-group-text-label\" >Caption*</span>\n                                                    </div>\n                                                    <Field name=\"caption\" type=\"text\" v-model=\"caption\" class=\"form-control\" autocomplete=\"off\"/>\n                                                </div>\n                                                <ErrorMessage name=\"caption\" v-model=\"caption\" class=\"error-feedback\" style=\"margin-bottom: -8px;\" />\n                                            </div>\n                                            <!-- End -->\n\n                                            <!-- Image -->\n                                            <div class=\"col-md-12 mt-2  mb-3 form-group\">\n                                                <div class=\"input-group mb-2\">\n                                                    <div class=\"input-group-prepend\">\n                                                        <span class=\"input-group-text p4 input-group-text-label\" >Image*</span>\n                                                    </div>\n                                                    <Field name=\"image\"  type=\"file\" id=\"concept_note\" class=\"form-control\" accept=\"image/*\" @change=\"pickFile\" autocomplete=\"off\"  style=\"height:44px\" />\n                                                </div>\n                                                <ErrorMessage name=\"image\" class=\"error-feedback\" />\n                                            </div>\n                                            <!-- End -->\n\n                                            <!-- Order -->\n                                            <div class=\"col-md-12 mt-2  mb-3 form-group\">\n                                                <div class=\"input-group mb-2\">\n                                                    <div class=\"input-group-prepend\">\n                                                        <span class=\"input-group-text p4 input-group-text-label\" >Order </span>\n                                                    </div>\n                                                    <Field name=\"order\" type=\"text\" v-model=\"order\" class=\"form-control\" autocomplete=\"off\"/>\n                                                </div>\n                                                <ErrorMessage name=\"order\" v-model=\"order\" class=\"error-feedback\" />\n                                            </div>\n                                            <!-- End -->\n\n\n                                            <!-- Status -->\n                                            <div class=\"col-md-12  mt-2  mb-3 form-group\">\n                                            <div class=\" input-group mb-2\">\n                                                <div class=\"input-group-prepend\">\n                                                    <span class=\"input-group-text p4 input-group-text-label\">Status*</span>\n                                                </div>\n                                                <Field name=\"status\" as=\"select\" class=\"form-control\" v-model=\"status\">\n                                                <option value=\"\">-- Select Status --</option>\n                                                <option value=\"1\">Active</option>\n                                                <option value=\"0\">Inactive</option>\n                                                </Field>                                          \n                                            </div>\n                                            <ErrorMessage name=\"status\" class=\"error-feedback\" style=\"margin-bottom: -10px;\" />\n                                            </div>\n                                            <!-- End -->\n\n                                            <!-- Set Image -->\n                                            <div class=\"col-md-12 mt-2  mb-3 form-group\">\n                                                <div class=\"input-group mb-2\">\n                                                    <div class=\"input-group-prepend\">\n                                                        <input type=\"checkbox\" id=\"imageForHomePage\" value=\"1\" v-model=\"markImageForHomePage\" />\n                                                        <label class=\"mt-2 ml-2\" for=\"imageForHomePage\">Show on Home Page  </label>\n                                                    </div>\n\n                                                </div>\n                                                <ErrorMessage name=\"markImageForHomePage\" class=\"error-feedback\" />\n                                            </div>\n                                            <!-- End -->\n                                        </div>\n\n                                        </div>\n\n                                        <!-- Thumbnail Image -->\n                                        <div class=\"col-md-5 mt-2 d-inline-block\">\n                                            <div class=\"col-md-12 form-group\">\n                                                <div class=\"form-bg text-center p-3\">\n                                                    <div class=\" box\" style=\"display:block\">\n                                                        <div class=\"js--image-preview img-thumbnail\" style=\"text-align:center\">\n                                                            <img v-if=\"!editImageFlag\"\n                                                                id=\"prvImg\" \n                                                                src=\"@/assets/img/thumbail.png\"\n                                                                style=\"max-width:378px; height: auto;border: 3px #c5b7b7 solid;\"\n                                                                class=\"img-thumbnail\"\n                                                            >\n\n                                                            <img v-if=\"editImageFlag\"\n                                                                id=\"prvImg\" \n                                                                :src=\"editImage\"\n                                                                style=\"max-width:378px; height: auto;border: 3px #c5b7b7 solid;\"\n                                                                class=\"\"\n                                                            >\n                                                        </div>\n                                                        \n                                                        <div class=\"upload-options mt-3\">\n                                                            <label class=\"upload-options\" for=\"imageUpload\">\n                                                                <font-awesome-icon icon=\"fa-solid  fa-upload\"/> Select Thumbnail Image\n                                                                <input \n                                                                    type=\"file\" \n                                                                    class=\"image-upload\"\n                                                                    id=\"imageUpload\" \n                                                                    accept=\"image/*\" \n                                                                    @change=\"onFileUpload\"\n                                                                >\n                                                            </label>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div> \n                                        <!-- End -->\n                                        </div>\n                                    </div>\n                                    <!-- End -->\n\n                                    <!-- Modal Footer -->\n                                    <div class=\"modal-footer\">\n                                        <div class=\"form-group\">\n                                            <button class=\"btn btn-primary mr-2\">\n                                            <span v-show=\"isCreating\" class=\"spinner-border spinner-border-sm\"></span>\n                                            Submit \n                                            </button>\n\n                                            <button class=\"btn btn-danger ml-2\" type=\"reset\">Reset</button>\n                                        </div>\n                                    </div>\n                                    <!-- End -->\n                                </Form>\n                                <!-- End -->\n                            </div>\n\n                        </div>\n                    </div>\n                    <!-- End -->\n\n                    </div>\n                </div>\n                </div>\n                <!-- End -->\n\n                <!-- Modal Edit Gallery Image -->\n                <div class=\"modal fade\" id=\"galleryImageModalEdit\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n                <div class=\"modal-dialog modal-dialog-centered modal-xl\" role=\"document\">\n                    <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">Gallery Images</h5>\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                    </div>\n\n                    <!-- Modal Body -->\n                    <div class=\"modal-body\">\n                        <div class=\"row justify-content-center mt-2 mb-2 ml-0 mr-0\">\n                            <div class=\"col-md-12 form-bg\">\n                                <!-- Form Start From Here -->\n                                <Form @submit=\"updateGalleryImage\" :validation-schema=\"galleryImageValidationForUpdate\" ref=\"form\">\n                                    <!-- Gallery Image,Caption,Image & Order -->\n                                    <div class=\"row\">\n                                        <div class=\"col-md-12\">\n\n                                        <div class=\"col-md-7 mt-4 d-inline-block float-left\">\n\n                                            <div class=\"row\">\n                                                <!-- Gallery Image -->\n                                                <div class=\"col-md-12  mt-2  mb-3 form-group\">\n                                                <div class=\" input-group mb-2\">\n                                                    <div class=\"input-group-prepend\">\n                                                        <span class=\"input-group-text p4 input-group-text-label\">Gallery Image Album*</span>\n                                                    </div>\n                                                    <Field name=\"imageAlbum\" as=\"select\" class=\"form-control\" v-model=\"edit.imageAlbum\">\n                                                    <option value=\"\">-- Select Status --</option>\n                                                    <option v-for=\"(imageAlbum,index) in imageAlbums\" :key=\"index\" :value=\"imageAlbum.id\">{{imageAlbum.title}}</option>\n                                                    </Field>                                          \n                                                </div>\n                                                <ErrorMessage name=\"imageAlbum\" class=\"error-feedback\" style=\"margin-bottom: -10px;\" />\n                                                </div>\n                                                <!-- End -->\n\n                                                <!-- Caption -->\n                                                <div class=\"col-md-12 mt-2 mb-3 form-group\">\n                                                    <div class=\"input-group\">\n                                                        <div class=\"input-group-prepend\">\n                                                            <span class=\"input-group-text p4 input-group-text-label\" >Caption*</span>\n                                                        </div>\n                                                        <Field name=\"caption\" type=\"text\" v-model=\"edit.caption\" class=\"form-control\" autocomplete=\"off\"/>\n                                                    </div>\n                                                    <ErrorMessage name=\"caption\" v-model=\"caption\" class=\"error-feedback\" style=\"margin-bottom: -8px;\" />\n                                                </div>\n                                                <!-- End -->\n\n                                                <!-- Image -->\n                                                <div class=\"col-md-12 mt-2  mb-3 form-group\">\n                                                    <div class=\"input-group mb-2\">\n                                                        <div class=\"input-group-prepend\">\n                                                            <span class=\"input-group-text p4 input-group-text-label\" >Image*</span>\n                                                        </div>\n                                                        <Field name=\"image\"  type=\"file\" id=\"concept_note\" class=\"form-control inputset\" accept=\"image/*\" @change=\"pickFile\" autocomplete=\"off\"  style=\"height:44px\" />\n                                                        <a :href=\"fullViewImage\" target=\"_blank\" class=\"fa fa-eye iconsubmit\"></a>\n                                                    </div>\n                                                    <ErrorMessage name=\"image\" class=\"error-feedback\" />\n                                                </div>\n                                                <!-- End -->\n\n                                                <!-- Order -->\n                                                <div class=\"col-md-12 mt-2  mb-3 form-group\">\n                                                    <div class=\"input-group mb-2\">\n                                                        <div class=\"input-group-prepend\">\n                                                            <span class=\"input-group-text p4 input-group-text-label\" >Order</span>\n                                                        </div>\n                                                        <Field name=\"order\" type=\"text\" v-model=\"edit.order\" class=\"form-control\" autocomplete=\"off\"/>\n                                                    </div>\n                                                    <ErrorMessage name=\"order\" v-model=\"order\" class=\"error-feedback\" />\n                                                </div>\n                                                <!-- End -->\n\n\n                                                <!-- Status -->\n                                                <div class=\"col-md-12  mt-2  mb-3 form-group\">\n                                                <div class=\" input-group mb-2\">\n                                                    <div class=\"input-group-prepend\">\n                                                        <span class=\"input-group-text p4 input-group-text-label\">Status*</span>\n                                                    </div>\n                                                    <Field name=\"status\" as=\"select\" class=\"form-control\" v-model=\"edit.status\">\n                                                    <option value=\"\">-- Select Status --</option>\n                                                    <option value=\"1\">Active</option>\n                                                    <option value=\"0\">Inactive</option>\n                                                    </Field>                                          \n                                                </div>\n                                                <ErrorMessage name=\"status\" class=\"error-feedback\" style=\"margin-bottom: -10px;\" />\n                                                </div>\n                                                <!-- End -->\n                                                <!-- Set Image -->\n                                                <div class=\"col-md-12 mt-2  mb-3 form-group\">\n                                                    <div class=\"input-group mb-2\">\n                                                        <div class=\"input-group-prepend\">\n                                                            <input type=\"checkbox\" value=\"1\" v-model=\"checkboxForHomepage\" />\n                                                            \n                                                            <label class=\"mt-2 ml-2\" for=\"\">Show on Home Page </label>\n                                                        </div>\n\n                                                    </div>\n                                                    <ErrorMessage name=\"checkboxForHomepage\" class=\"error-feedback\" />\n                                                </div>\n                                                <!-- End -->\n                                            </div>\n\n                                        </div>\n\n                                        <!-- Thumbnail Image -->\n                                        <div class=\"col-md-5 mt-2 d-inline-block\">\n                                            <div class=\"col-md-12 form-group\">\n                                                <div class=\"form-bg text-center p-3\">\n                                                    <div class=\" box\" style=\"display:block\">\n                                                        <div class=\"js--image-preview img-thumbnail\" style=\"text-align:center\">\n                                                            <img v-if=\"!editImageFlag\"\n                                                                id=\"prvImgEdit\" \n                                                                src=\"@/assets/img/thumbail.png\"\n                                                                style=\"max-width:378px; height: auto;border: 3px #c5b7b7 solid;\"\n                                                                class=\"img-thumbnail\"\n                                                            >\n\n                                                            <img v-if=\"editImageFlag\"\n                                                                id=\"prvImg\" \n                                                                :src=\"editImage\"\n                                                                style=\"width:378px; height: auto; border: 3px #c5b7b7 solid;\"\n                                                                class=\"\"\n                                                            >\n                                                        </div>\n                                                        \n                                                        <div class=\"upload-options mt-3\">\n                                                            <label class=\"upload-options\" for=\"imageUpload\">\n                                                                <font-awesome-icon icon=\"fa-solid  fa-upload\"/> Select Thumbnail Image\n                                                                <input \n                                                                    type=\"file\" \n                                                                    class=\"image-upload\"\n                                                                    id=\"imageUpload\" \n                                                                    accept=\"image/*\" \n                                                                    @change=\"onFileUpload\"\n                                                                >\n                                                            </label>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div> \n                                        <!-- End -->\n                                        </div>\n                                    </div>\n                                    <!-- End -->\n\n                                    <!-- Modal Footer -->\n                                    <div class=\"modal-footer\">\n                                        <div class=\"form-group\">\n                                            <button class=\"btn btn-primary mr-2\">\n                                            <span v-show=\"isCreating\" class=\"spinner-border spinner-border-sm\"></span>\n                                            Submit \n                                            </button>\n\n                                            <button class=\"btn btn-danger ml-2\" type=\"reset\">Reset</button>\n                                        </div>\n                                    </div>\n                                    <!-- End -->\n                                </Form>\n                                <!-- End -->\n                            </div>\n\n                        </div>\n                    </div>\n                    <!-- End -->\n\n                    </div>\n                </div>\n                </div>\n                <!-- End -->\n\n                <!-- Open Model For Image Cooper -->\n                    <div class=\"modal fade\" id=\"remarkModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n                    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                            <div class=\"modal-content\">\n                                                    <div class=\"modal-body p-3\">\n                                                        <div class=\"\">\n                                                            <cropper\n                                                                class=\"cropper\"\n                                                                :src=\"img\"\n                                                                :stencil-props=\"{\n                                                                aspectRatio: 2.33/1\n                                                                }\"\n                                                                ref=\"refs\"\n                                                                @change=\"changes\"\n                                                            />\n                                                        </div>\n                                                </div>\n\n                                    <div class=\"modal-footer\">\n                                            <button type=\"button\" class=\"btn btn-info\" data-dismiss=\"modal\"><font-awesome-icon icon=\"fa-solid  fa-ban\" /> Cancel Crop</button>\n                                            <button type=\"button\" class=\"btn btn-danger\" @click=\"cropImage\"> <font-awesome-icon icon=\"fa-solid  fa-crop-simple\" /> Crop</button>\n                                    </div>\n                            </div>\n                    </div>\n                    </div>\n                <!-- Close Model For Image Cooper-->\n\n                <!-- Modal For Print Gallery Image -->\n                    <div class=\"modal fade\" id=\"modalForPrintGalleryImage\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n                    <div class=\"modal-dialog modal-dialog-centered modal-xl\" role=\"document\">\n                        <div class=\"modal-content\">\n                            <div class=\"modal-header\">\n                                <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">Gallery Images </h5>\n                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                    <span aria-hidden=\"true\">&times;</span>\n                                </button>\n                            </div>\n                            <div class=\"modal-body\">\n                                <div class=\"row\">\n                            <div class=\"col-md-12\">\n                                <div class=\"table-responsive\">\n                                            <table class=\"table table-striped table-bordered\" id=\"datatablePrint\">\n                                            <thead>\n                                                <tr>\n                                                <th scope=\"col\" >SL</th>\n                                                <th scope=\"col\" >Album Name</th>                           \n                                                <th scope=\"col\" >Caption</th> \n                                                <th scope=\"col\" >Image</th> \n                                                <th scope=\"col\" >Status</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                <tr v-for=\"(galleryImage,index) in allGalleryImage\" :key=\"galleryImage.id\">\n                                                <th scope=\"row\">{{index+1}}</th>                                        \n                                                <td >{{galleryImage.albumName}}</td>\n                                                <td v-html=\"galleryImage.caption\"></td>\n                                                <td >{{galleryImage.image}}</td>\n                                                <td > {{galleryImage.status == 1 ? 'Active' : 'Inactive'}}</td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n\n                                        </div>   \n            \n                            </div> \n                        </div>\n\n                            </div>\n                            <div class=\"modal-footer\">\n\n                            </div>\n                        </div>\n                    </div>\n                    </div>\n                <!-- End -->\n        </div> \n    </div>\n</template>\n\n<script>\nimport { createToast } from 'mosha-vue-toastify';\nimport { Cropper } from 'vue-advanced-cropper'\nimport 'vue-advanced-cropper/dist/style.css';\nimport 'mosha-vue-toastify/dist/style.css'\nimport \"datatables.net-dt/js/dataTables.dataTables\";\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\";\nimport { Form,Field,ErrorMessage } from \"vee-validate\";\nimport * as yup from \"yup\";\nimport $ from 'jquery';\n\nexport default {\n    components: {\n        Form,\n        Field,\n        ErrorMessage,\n        Cropper\n    },\n    \n    data() {\n            const validationCreate = yup.object().shape({\n            imageAlbum: yup\n                .string()\n                .required(\"Gallery Image Album is required!\"),\n            caption: yup\n                .string()\n                .required(\"Caption is required!\"),\n            status: yup\n                .string()\n                .required(\"Status is required!\"),\n            image: yup\n                .string()\n                .required(\"Image is required!\"),      \n        });\n\n        const validationUpdate = yup.object().shape({\n            imageAlbum: yup\n                .string()\n                .required(\"Gallery Image Album is required!\"),\n            caption: yup\n                .string()\n                .required(\"Caption is required!\"),\n            status: yup\n                .string()\n                .required(\"Status is required!\"),     \n        });\n        return {\n            backend_url: process.env.VUE_APP_API_URL, \n            base_url_for_image : this.base_url_for_resource,\n            galleryImageValidationForCreate:validationCreate,\n            galleryImageValidationForUpdate:validationUpdate,\n\n            editImageFlag:false,\n            galleryImages:{},\n            imageAlbums:{},\n            updateId:'',\n            thumbnail:'',\n            imageAlbum:'',\n            editImage:'',\n            cropData:'',\n            caption:'',\n            order:'',\n            status:'',\n            image:'',\n            img:'',\n            edit:{\n                caption:'',\n                order:'',\n                status:''\n            },\n            fullViewImage:'',\n            allGalleryImage:'',\n            markImageForHomePage: 0,\n            checkboxForHomepage: true,\n            eventTitle:''\n            \n        }\n    },\n\n    methods: {\n\n        // Print Gallery Image\n        printGalleryImage(){\n            $(document).ready(function () {\n                $('#modalForPrintGalleryImage').modal('show');\n            });\n            $('#datatablePrint').DataTable().destroy();\n            this.axios\n                .get(this.backend_url + \"images\")\n                .then((res) => {\n                this.allGalleryImage = res.data.galleryImageList;\n                $(document).ready(function() {\n                    $('#datatablePrint').DataTable( {\n                        dom: '<\"top\"Bfi>rt<\"top\"lp><\"clear\">', \n                        buttons: [\n                            {\n                                extend: 'csv',\n                                messageTop: 'Gallery Image Informations',\n                                title: 'Asf 2022 Gallery Image Information Table'\n                           },\n                           {\n                                extend: 'print',\n                                messageTop: 'Gallery Image Informations',\n                                title: 'Asf 2022 Gallery Image Information Table'\n                           },\n                        ]\n                    } );\n                    $('.buttons-print').each(function() {\n                    $(this).removeClass('btn-default').addClass('print-button')\n                    })\n\n                    $('.buttons-csv').each(function() {\n                    $(this).removeClass('btn-default').addClass('csv-button')\n                    }) \n\n                    $('.dt-buttons').each(function() { \n                    $(this).css({ float: 'left' });\n                    })\n\n\n                    $('.dataTables_length').each(function() { \n                    $(this).css({ margin: '10px' });\n                    })\n\n                    $('#datatablePrint .dataTables_filter').each(function() { \n                    $(this).css({ float: 'right' });\n                    })\n\n                } );\n            })\n\n        },\n\n\n        onEdit(image){\n            this.updateId = image.id;\n\n            this.editImageFlag = true;\n            $(document).ready(function () {\n            $('#galleryImageModalEdit').modal('show');\n            }); \n\n            this.edit.caption = image.caption;\n            this.edit.order = image.order;\n            this.edit.status = image.status;\n            this.edit.imageAlbum = image.albumId;\n            this.edit.markImageForHomePage = image.mark_image_for_homepage;\n            this.editImage = this.base_url_for_image + 'uploads/images/gallery/'+image.thumbnail;\n            this.fullViewImage = this.base_url_for_image + 'uploads/images/gallery/'+image.image;\n            if(this.edit.markImageForHomePage == 1){\n                this.checkboxForHomepage = true;\n            }else{\n                this.checkboxForHomepage = false;\n            }\n\n        },\n\n        //Update Gallery Image\n        updateGalleryImage(){\n\n            this.axios\n                .put(this.backend_url +\"updateGalleryImage/\"+this.updateId,{\n                    caption : this.edit.caption,\n                    image   : this.image,\n                    order   : this.edit.order,\n                    markImageForHomePage : this.edit.mark_image_for_homepage,\n                    status  : this.edit.status,\n                    album_id : this.edit.imageAlbum,\n                    mark_image_for_homepage : this.checkboxForHomepage == true ? 1 : 0,\n                    thumbnail : this.thumbnail ? this.thumbnail : this.img\n                }).then((res)=>{\n                    console.log(res);\n                    createToast(res.data.message, {\n                            position: 'top-center',\n                            transition: 'bounce',\n                            timeout: 1500,\n                            type: 'success',\n                    });\n                    this.getGalleryImages();\n                    $(document).ready(function () {\n                    $('#galleryImageModalEdit').modal('hide');\n                    });\n                    this.editImageFlag = false;\n\n                }).catch((err) =>{\n                    alert(err);\n                })\n\n        },\n\n        //Create New Gallery Image\n        createNewGalleryImage(){\n\n            this.axios\n                .post(this.backend_url +\"addGalleryImage\",{\n                    caption : this.caption,\n                    image   : this.image,\n                    order   : this.order, \n                    mark_image_for_homepage : this.markImageForHomePage,  \n                    status  : this.status,\n                    album_id : this.imageAlbum,\n                    thumbnail : this.thumbnail ? this.thumbnail : ''\n                }).then((res)=>{\n                    console.log(res);\n                    createToast(res.data.message, {\n                            position: 'top-center',\n                            transition: 'bounce',\n                            timeout: 1500,\n                            type: 'success',\n                    });\n                    this.getGalleryImages();\n                    $(document).ready(function () {\n                    $('#galleryImageModal').modal('hide');\n                    });\n\n                }).catch((err) =>{\n                    //alert(err);\n                    console.log(err);\n                })\n        },\n\n        //Add Gallery Image\n        addGalleryImage(){\n            //this.$refs.form.resetForm();\n            // this.$refs.form.reset();\n            var test = $(\".error-feedback\").val();\n            console.log(test);\n            this.caption = '';\n            this.order = '';\n            this.status = 0;\n            this.imageAlbum = '';\n            this.editImageFlag = false;\n            $(document).ready(function () {\n            $('#galleryImageModal').modal('show');\n            });    \n        },\n\n        //Croping image(Crop(image) -> Button) =>\n        cropImage(e){\n        console.log(e);\n        let reader = new FileReader();\n        console.log(reader);\n        this.thumbnail = this.cropData;\n        if(this.thumbnail){\n            this.editImageFlag = false;\n            var pic = this.thumbnail;\n\n            $(document).ready(function(){\n            $('#remarkModal').modal('hide');\n            $('#prvImg').attr('src',pic);\n            });   \n\n            $(document).ready(function(){\n            $('#remarkModal').modal('hide');\n            $('#prvImgEdit').attr('src',pic);\n            }); \n        }\n\n\n        },\n\n        //Croping image params\n        changes({ coordinates, canvas }) {\n        console.log(coordinates, canvas);\n        this.cropData = canvas.toDataURL();\n        },\n\n        //Delete Specific Image\n        onDelete(id){\n            this.axios\n                .delete(this.backend_url + \"deleteGalleryImage/\" +id)\n                .then((res) => { \n                    createToast(res.data.message, {\n                            position: 'top-center',\n                            transition: 'bounce',\n                            timeout: 1500,\n                            type: 'danger',\n                    })\n                    this.getGalleryImages();\n                })\n        },\n\n        //Get All Images\n        getGalleryImages(){\n           // $('#datatable').DataTable().destroy();\n            this.axios\n                .get(this.backend_url + \"images\")\n                .then((res) => { \n                   this.eventTitle  = res.data.activeEvent.title;\n                   this.galleryImages = res.data.galleryImageList;\n                    $(document).ready(function () {\n                        $('#datatable').DataTable();\n                    });\n                })\n        },\n\n        //Active Image Album\n        onActive(id){\n            this.axios\n                .patch(this.backend_url + \"activeGalleryImage/\" +id)\n                .then((res) => { \n                    console.log(res);\n                    createToast('Active Gallery Image Successfully', {\n                            position: 'top-center',\n                            transition: 'bounce',\n                            timeout: 1500,\n                            type: 'success',\n                    })\n                    this.getGalleryImages();\n                })\n        },\n\n        //Inactive Image Album\n        onInactive(id){\n            this.axios\n                .patch(this.backend_url + \"inactiveGalleryImage/\" +id)\n                .then((res) => { \n                    console.log(res);\n                    createToast('Inactive Gallery Image Successfully', {\n                            position: 'top-center',\n                            transition: 'bounce',\n                            timeout: 1500,\n                            type: 'danger',\n                    })\n                    this.getGalleryImages();\n                })\n        },\n\n        //Get All Image Album Dropdown\n        getImageAlbum(){\n            this.axios\n                .get(this.backend_url + \"getImageAlbums\")\n                .then((res) => { \n                    this.imageAlbums = res.data.data;\n                    console.log(this.imageAlbums);\n                })\n        },\n\n        pickFile(ev){\n            const file = ev.target.files[0];\n            const reader = new FileReader();\n            reader.onloadend = (file) => {\n            console.log(file);\n            this.image = reader.result;\n        };\n            reader.readAsDataURL(file);       \n        },\n\n        onFileUpload(e) {\n        let file = e.target.files[0];\n        let reader = new FileReader();\n        this.img = '';\n        if (file[\"size\"] < 100111775) {\n          reader.onloadend = (file) => {\n                console.log(file);\n                this.img = reader.result;\n            };\n            reader.readAsDataURL(file);\n        } else {\n            alert(\"File size can not be bigger than 10 MB\");\n        }\n        \n        $('#remarkModal').modal('show');\n\n    },\n\n        \n    },\n\n    created() {\n        this.getGalleryImages();\n        this.getImageAlbum();\n        \n    },\n\n    mounted(){\n        $(function () {\n            $('[data-toggle=\"tooltip\"]').tooltip()\n        })\n    }\n}\n</script>\n\n<style scoped>\n\n.iconsubmit {\n    position: relative;\n    font-size: 1.3em;\n    z-index: 1;\n    left: -30px;\n    top: 11px;\n    cursor:pointer;\n    width: 0;\n}\n\n.iconsubmit:hover {\n  color: #add8e6;\n}\n\n.inputset {\n    height: 2em;\n    width: 30em;\n    border-radius: 0.5em;\n    font-size: 1em;\n}\n\n.upload-options {\n    width: 100%;\n    border-radius: 5px;\n    margin-bottom: 5px;\n}\n\n.upload-options label {\n    display: block;\n    align-items: center;\n    font-weight: 400;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    cursor: pointer;\n    overflow: hidden;\n    padding: 10px;\n    text-align: center;\n    background: #007dac;\n    color: white;\n    margin: 0;\n}\n\n.upload-options label:hover {\n    background-color: #0a466e;\n}\n\n.upload-options input {\n    width: 0.1px;\n    height: 0.1px;\n    opacity: 0;\n    overflow: hidden;\n    position: absolute;\n    z-index: -1;\n}\n\n\n</style>"]},"metadata":{},"sourceType":"module"}