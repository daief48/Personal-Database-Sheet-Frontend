{"ast":null,"code":"import { createToast } from 'mosha-vue-toastify';\nimport 'mosha-vue-toastify/dist/style.css';\nimport \"datatables.net-dt/js/dataTables.dataTables\";\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\";\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport Loader from '../Loader.vue';\nimport $ from 'jquery';\nimport moment from 'moment';\nexport default {\n  name: 'Market Place',\n  components: {\n    Loader\n  },\n\n  data() {\n    return {\n      //  Spinner\n      spinnerOn: false,\n      // Ck - editorConfig\n      editor: ClassicEditor,\n      editorData: '<p>Content of the editor.</p>',\n      editorConfig: {\n        toolbar: {\n          items: ['paragraph', 'heading', 'bold', 'italic', 'link', 'BulletedList', 'NumberedList', 'undo', 'redo', 'aignment']\n        }\n      },\n      // Base Url\n      base_url: this.backendUrl,\n      // Properties\n      marketPlaces: {},\n      marketPlaceModalData: {},\n      contactPersonName: '',\n      mailSubject: '',\n      mailTo: '',\n      mailBody: '',\n      registeredGuestName: '',\n      eventId: '',\n      errMailSubjectMsg: false,\n      errMailBodyMsg: false,\n      allMarketPlaceData: {},\n      eventTitle: ''\n    };\n  },\n\n  methods: {\n    onClear() {\n      this.mailTo = '';\n      this.mailBody = '';\n      this.mailSubject = '';\n      this.errMailBodyMsg = false;\n      this.errMailSubjectMsg = false;\n    },\n\n    //Print Market Place\n    printMarketPlace() {\n      $(document).ready(function () {\n        $('#modalForPrintMarketPlace').modal('show');\n      });\n      $('#datatablePrint').DataTable().destroy();\n      this.axios.get(this.base_url + \"/api/getMarketPlace\").then(res => {\n        this.allMarketPlaceData = res.data.data;\n        $(document).ready(function () {\n          $('#datatablePrint').DataTable({\n            dom: '<\"top\"Bfi>rt<\"top\"lp><\"clear\">',\n            buttons: [{\n              extend: 'csv',\n              messageTop: 'Market Place Informations',\n              title: 'Asf 2022 Market Place Information Table'\n            }, {\n              extend: 'print',\n              messageTop: 'Market Place Informations',\n              title: 'Asf 2022 Market Place Information Table'\n            }]\n          });\n          $('.buttons-print').each(function () {\n            $(this).removeClass('btn-default').addClass('print-button');\n          });\n          $('.buttons-csv').each(function () {\n            $(this).removeClass('btn-default').addClass('csv-button');\n          });\n          $('.dt-buttons').each(function () {\n            $(this).css({\n              float: 'left'\n            });\n          });\n          $('.dataTables_length').each(function () {\n            $(this).css({\n              margin: '10px'\n            });\n          });\n          $('#datatablePrint .dataTables_filter').each(function () {\n            $(this).css({\n              float: 'right'\n            });\n          });\n        });\n      });\n    },\n\n    // Gel Market Place Data\n    getMarketPlace() {\n      $('#datatable').DataTable().destroy();\n      this.axios.get(this.base_url + \"/api/getMarketPlace\").then(res => {\n        this.marketPlaces = res.data.data;\n        this.eventTitle = res.data.activeEvent.title;\n        $(document).ready(function () {\n          $('#datatable').DataTable();\n        });\n      });\n    },\n\n    // Show All Market Place\n    onShow(marketPlace) {\n      this.marketPlaceModalData = marketPlace;\n      $(document).ready(function () {\n        $('#exampleModalCenter').modal('show');\n      });\n    },\n\n    onReply(data) {\n      this.onClear();\n      this.mailTo = data.email;\n      this.contactPersonName = data.contact_person_name;\n      this.eventId = data.event_id;\n      console.log(data.email);\n      $(document).ready(function () {\n        $('#exampleModalCenterForSendingMail').modal('show');\n      });\n    },\n\n    // For Sending Mail\n    onSend() {\n      if (this.mailSubject != '' && this.mailBody != '') {\n        this.spinnerOn = true;\n        $(document).ready(function () {\n          $('#exampleModalCenterForSendingMail').modal('hide');\n        });\n        this.axios.post(this.base_url + '/api/send-reply', {\n          subject: this.mailSubject,\n          //title: this.mailTitle,\n          message_body: this.mailBody,\n          email: this.mailTo,\n          name: this.registeredGuestName,\n          event_id: this.eventId\n        }).then(res => {\n          console.log(res);\n          createToast('Mail Sent Successfully !', {\n            position: 'top-center',\n            transition: 'bounce',\n            timeout: 1500,\n            type: 'success'\n          });\n          this.spinnerOn = false;\n          this.onClear();\n        }).catch(err => {\n          console.log(err);\n          createToast('Mail Sent Successfully !', {\n            position: 'top-center',\n            transition: 'bounce',\n            timeout: 1500,\n            type: 'success'\n          });\n          this.spinnerOn = false;\n          this.onClear();\n        });\n      } else {\n        if (this.mailSubject != '') {\n          this.errMailSubjectMsg = false;\n        } else {\n          this.errMailSubjectMsg = true;\n        }\n\n        if (this.mailBody != '') {\n          this.errMailBodyMsg = false;\n        } else {\n          this.errMailBodyMsg = true;\n        }\n\n        this.spinnerOn = false;\n      }\n    },\n\n    formatDate(value) {\n      return moment(value).format('ddd, MMMM Do YYYY, h:mm:ss a');\n    }\n\n  },\n\n  created() {\n    this.getMarketPlace();\n  }\n\n};","map":{"version":3,"mappings":"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","names":["createToast","ClassicEditor","Loader","$","moment","name","components","data","spinnerOn","editor","editorData","editorConfig","toolbar","items","base_url","backendUrl","marketPlaces","marketPlaceModalData","contactPersonName","mailSubject","mailTo","mailBody","registeredGuestName","eventId","errMailSubjectMsg","errMailBodyMsg","allMarketPlaceData","eventTitle","methods","onClear","printMarketPlace","document","ready","modal","DataTable","destroy","axios","get","then","res","dom","buttons","extend","messageTop","title","each","removeClass","addClass","css","float","margin","getMarketPlace","activeEvent","onShow","marketPlace","onReply","email","contact_person_name","event_id","console","log","onSend","post","subject","message_body","position","transition","timeout","type","catch","err","formatDate","value","format","created"],"sourceRoot":"","sources":["/var/www/html/PMS_PROJECT/pds/src/components/MarketPlace/MarketPlace.vue"],"sourcesContent":["<template>\n    <div>\n    <h4 class=\"text-bold heading-style\">Market Place </h4>\n    <div class=\"card card-default\">\n        <div class=\"card-header\">\n            <button class=\"btn btn-success print-button-style\" style=\"padding:5px 6px\" @click=\"printMarketPlace\">\n                      <font-awesome-icon icon=\"fa-solid  fa-rectangle-list\" />\n                      Export\n            </button>\n        </div>\n        <div class=\"card-body\">\n           <div class=\"row\">\n            <div class=\"col-md-12\">\n                <table class=\"table table-hover\" id=\"datatable\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">SL</th>\n                            <th scope=\"col\">Organization Name</th>\n                            <th scope=\"col\">Content Person Name</th>\n                            <th scope=\"col\">Mobile</th>\n                            <th scope=\"col\">Mail Address</th>\n                            <th scope=\"col\">Action</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"(marketPlace,index) in marketPlaces\" :key=\"marketPlace.id\">\n                            <td scope=\"row\">{{index+1}}</td>\n                            <td>{{marketPlace.organization_name}}</td>\n                            <td>{{marketPlace.contact_person_name}}</td>\n                            <td>{{marketPlace.mobile}}</td>\n                            <td>{{marketPlace.email}}</td>\n                            <td>\n                            <button class=\"btn btn-info mx-2 btn-sm\" title=\"Details Information For Registered Guest\"\n                            @click=\"onShow(marketPlace)\">\n                            <font-awesome-icon icon=\"fa-solid  fa-info-circle\" />\n                            </button>\n                            |\n                            <button class=\"btn btn-info mx-2 btn-sm\" title=\"Mail to Registered Guest\" \n                            @click=\"onReply(marketPlace)\">\n                            <font-awesome-icon icon=\"fa-solid fa-envelope\" />\n                            </button>\n                        </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n           </div> \n        <loader v-if=\"spinnerOn\"></loader>\n        </div>\n    </div>\n        <!-- Modal For Schedule -->\n        <div class=\"modal fade\" id=\"exampleModalCenter\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\"\n            aria-hidden=\"true\">\n            <div class=\"modal-dialog modal-dialog-centered modal-xl\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\" id=\"exampleModalLongTitle\"></h5>\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                    </div>\n                    <div class=\"modal-body\" id=\"ck-control\">\n                        <div class=\"row justify-content-center mt-2 mb-2 ml-0 mr-0\">\n                            <div class=\"col-md-12 form-bg\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-12\">\n                                        <div class=\"card card-default\" style=\"margin-right:-12px\">\n                                            <div class=\"card-body\" style=\"margin-left: 28px;\">\n                                                <fieldset class=\"field_set_item\">\n                                                    <legend class=\"legendItem\"> Market Place Details </legend>\n                                                    \n                                                    <div class=\"row mb-3\">\n                                                            <div class=\"col-md-12\">\n                                                                <div class=\"input-group border border-dark rounded\">\n                                                                    <div class=\"input-group-prepend\">\n                                                                    <span class=\"input-group-text p4 input-group-text-label\" >Event Title </span>\n                                                                    </div>\n                                                                    <label class=\"ml-3 mt-2 \">{{eventTitle}}</label>\n                                                                </div>\n                                                            </div>\n                                                    </div>\n\n                                                    <div class=\"row\">\n                                                        <div class=\"col-md-12\">\n                                                            <div class=\"col-auto\">\n                                                                <div class=\"input-group mb-2\">\n                                                                    <div class=\"input-group-prepend\">\n                                                                    <div class=\"input-group-text\">Registration Date</div>\n                                                                    </div>\n                                                                    <span class=\"form-control text-bold\" readonly>{{formatDate(marketPlaceModalData.created_at)}}</span>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n\n                                                    <div class=\"row\">\n                                                        <div class=\"col-md-6\">\n                                                            <!--  -->\n                                                            <div class=\"col-auto\">\n                                                                <div class=\"input-group mb-2\">\n                                                                    <div class=\"input-group-prepend\">\n                                                                    <div class=\"input-group-text\">Organization Name</div>\n                                                                    </div>\n                                                                    <span class=\"form-control\" v-html=\"marketPlaceModalData.organization_name\"></span>\n                                                                </div>\n                                                            </div>\n                                                        </div>    \n                                                        <div class=\"col-md-6\">\n                                                            <div class=\"col-auto\">\n                                                                <div class=\"input-group mb-2\">\n                                                                    <div class=\"input-group-prepend\">\n                                                                    <div class=\"input-group-text\">Contact Person Name</div>\n                                                                    </div>\n                                                                    <span class=\"form-control\" v-html=\"marketPlaceModalData.contact_person_name\"></span>\n                                                                </div>\n                                                            </div>\n                                                        </div>  \n                                                    </div> \n                                                    \n                                                    <div class=\"row\">\n                                                        <div class=\"col-md-6\">\n                                                            <!--  -->\n                                                            <div class=\"col-auto\">\n                                                                <div class=\"input-group mb-2\">\n                                                                    <div class=\"input-group-prepend\">\n                                                                    <div class=\"input-group-text\">Email</div>\n                                                                    </div>\n                                                                    <span class=\"form-control\" v-html=\"marketPlaceModalData.email\"></span>\n                                                                </div>\n                                                            </div>\n                                                        </div>    \n                                                        <div class=\"col-md-6\">\n                                                            <div class=\"col-auto\">\n                                                                <div class=\"input-group mb-2\">\n                                                                    <div class=\"input-group-prepend\">\n                                                                    <div class=\"input-group-text\">Phone</div>\n                                                                    </div>\n                                                                    <span class=\"form-control\" v-html=\"marketPlaceModalData.mobile\"></span>\n                                                                </div>\n                                                            </div>\n                                                        </div>  \n                                                    </div> \n\n                                                    <div class=\"row\">\n                                                        <div class=\"col-md-12\">\n                                                            <!--  -->\n                                                            <div class=\"col-auto\">\n                                                                <div class=\"input-group mb-2\">\n                                                                    <div class=\"input-group-prepend\">\n                                                                    <div class=\"input-group-text\">Address</div>\n                                                                    </div>\n                                                                    <span class=\"form-control\" v-html=\"marketPlaceModalData.address\"></span>\n                                                                </div>\n                                                            </div>\n                                                        </div>    \n                                                        <div class=\"col-md-12\">\n                                                            <div class=\"col-auto\">\n                                                                <div class=\"input-group mb-2\">\n                                                                    <div class=\"input-group-prepend\">\n                                                                    <div class=\"input-group-text\">Display Metrials</div>\n                                                                    </div>\n                                                                    <span class=\"form-control\" v-html=\"marketPlaceModalData.description_of_display_metrials\"></span>\n                                                                </div>\n                                                            </div>\n                                                        </div>  \n                                                    </div> \n\n                                                    <div class=\"row\">\n                                                        <div class=\"col-md-6\">\n                                                            <!--  -->\n                                                            <div class=\"col-auto\">\n                                                                <div class=\"input-group mb-2\">\n                                                                    <div class=\"input-group-prepend\">\n                                                                    <div class=\"input-group-text\">Stall Size</div>\n                                                                    </div>\n                                                                    <span class=\"form-control\" v-html=\"marketPlaceModalData.required_stall_size\"></span>\n                                                                </div>\n                                                            </div>\n                                                        </div>    \n                                                        <div class=\"col-md-6\">\n                                                            <div class=\"col-auto\">\n                                                                <div class=\"input-group mb-2\">\n                                                                    <div class=\"input-group-prepend\">\n                                                                    <div class=\"input-group-text\">Remarks</div>\n                                                                    </div>\n                                                                    <span class=\"form-control\" v-html=\"marketPlaceModalData.remarks\"></span>\n                                                                </div>\n                                                            </div>\n                                                        </div>  \n                                                    </div> \n                                                        \n                                                </fieldset>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n                    </div>\n        \n                </div>\n            </div>\n        </div>\n        <!-- End -->\n\n        <!-- Modal For Sending Mail -->\n            <div class=\"modal fade\" id=\"exampleModalCenterForSendingMail\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n            <div class=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">Send Mail</h5>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n                </div>\n                <div class=\"modal-body\" id=\"ck-control\">\n                    <div class=\"justify-content-center mt-2 mb-2 ml-0 mr-0\">\n\n                        <!-- Mail To -->\n                        <div class=\"row\">\n                            <div class=\"col-md-12 form-group\">\n                                  <div class=\"input-group mb-2\">\n                                    <div class=\"input-group-prepend\">\n                                        <span class=\"input-group-text p5\" >Mail To*</span>\n                                    </div>\n                                    <input name=\"mailTo\" type=\"text\" v-model=\"mailTo\" class=\"form-control\" autocomplete=\"off\" readonly/>\n                                  </div>\n                              \n                            </div>\n                        </div>\n                        <!-- End -->\n\n                        <!-- Mail Subject -->\n                        <div class=\"row\">\n                            <div class=\"col-md-12 form-group\">\n                                  <div class=\"input-group mb-2\">\n                                    <div class=\"input-group-prepend\">\n                                        <span class=\"input-group-text p5\" >Mail Subject*</span>\n                                    </div>\n                                    <input name=\"mailSubject\" type=\"text\" v-model=\"mailSubject\" class=\"form-control\" autocomplete=\"off\"/>\n                                  </div>\n\n                                  <div>\n                                        <p class=\"mb-0 text-danger\" v-if=\"errMailSubjectMsg\">Email Subject Is Required !</p>\n                                  </div>\n                              \n                            </div>\n                        </div>\n                        <!-- End -->\n\n                        <!-- Mail Body -->\n                        <div class=\"row\">\n                          <div class=\"col-md-12 form-group\">\n                            <div class=\"mb-2\">\n                                <div class=\"\">\n                                    <span class=\"input-group-text p4 mb-2\" >Mail Body*</span>\n                                </div>\n                                <ckeditor name=\"mailBody\" autocomplete=\"off\" class=\"form-control\" :editor=\"editor\" v-model=\"mailBody\" :config=\"editorConfig\" /> \n                            </div>\n\n                            <div>\n                                <p class=\"mb-0 text-danger\" v-if=\"errMailBodyMsg\">Mail Content Is Required !</p>\n                            </div>\n                           \n                          </div>\n                        </div>\n                        <!-- End -->\n                    </div>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n                    <button type=\"button\" class=\"btn btn-info\" @click=\"onSend\"> Send  <font-awesome-icon icon=\"fa-solid fa-square-up-right\" /> </button>\n                </div>\n\n            </div>\n            </div>\n            </div>\n        <!-- End -->\n\n        <!-- Modal For Print Schedule -->\n            <div class=\"modal fade\" id=\"modalForPrintMarketPlace\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n            <div class=\"modal-dialog modal-dialog-centered modal-xl\" role=\"document\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">Market Place  </h5>\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                    </div>\n                    <div class=\"modal-body\">\n                        <div class=\"row\">\n                    <div class=\"col-md-12\">\n                    <div class=\"table-responsive\">\n                    <table class=\"table table-striped table-bordered\" id=\"datatablePrint\">\n                        <thead>\n                            <tr>\n                            <th scope=\"col\" >SL</th>\n                            <th scope=\"col\" >Organization Name</th>\n                            <th scope=\"col\" >Contact Person Name</th>\n                            <th scope=\"col\" >Mobile</th> \n                            <th scope=\"col\" >Email</th> \n                            <th scope=\"col\" >Address</th> \n                            <th scope=\"col\" >Display Metrials</th>\n                            <th scope=\"col\" >Stall Size</th>\n                            <th scope=\"col\" >Application Date</th>\n                            <th scope=\"col\" >Remarks</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr v-for=\"(marketPlace,index) in allMarketPlaceData\" :key=\"marketPlace.id\">\n                            <th scope=\"row\">{{index+1}}</th>\n                            <td v-html=\"marketPlace.organization_name\"></td>\n                            <td v-html=\"marketPlace.contact_person_name\"></td>\n                            <td >{{marketPlace.mobile}}</td>\n                            <td >{{marketPlace.email}}</td>\n                            <td v-html=\"marketPlace.address\"></td>\n                            <td v-html=\"marketPlace.description_of_display_metrials\"></td>\n                            <td > {{marketPlace.required_stall_size}}</td>\n                            <td >{{$filters.myDateFormate(marketPlace.created_at)}}</td>\n                            <td v-html=\"marketPlace.remarks\"></td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>      \n                    </div> \n                </div>\n\n                    </div>\n                    <div class=\"modal-footer\">\n\n                    </div>\n                </div>\n            </div>\n            </div>\n        <!-- End -->\n    </div>\n</template>\n\n<script>\nimport { createToast } from 'mosha-vue-toastify';\nimport 'mosha-vue-toastify/dist/style.css'\nimport \"datatables.net-dt/js/dataTables.dataTables\";\nimport \"datatables.net-dt/css/jquery.dataTables.min.css\";\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport Loader from '../Loader.vue';\nimport $ from 'jquery';\nimport moment from 'moment';\n\nexport default {\n    name: 'Market Place',\n    components: {\n        Loader,\n    },\n    data() {\n        return {\n            //  Spinner\n            spinnerOn:false,\n            // Ck - editorConfig\n            editor: ClassicEditor,\n            editorData: '<p>Content of the editor.</p>',\n            editorConfig: {\n                toolbar: {\n                    items: [\n                        'paragraph',\n                        'heading',\n                        'bold',\n                        'italic',\n                        'link',\n                        'BulletedList',\n                        'NumberedList',\n                        'undo',\n                        'redo',\n                        'aignment'\n\n                    ]\n                }\n            },\n            // Base Url\n            base_url: this.backendUrl,\n            // Properties\n            marketPlaces: {},\n            marketPlaceModalData: {},\n            contactPersonName:'',\n            mailSubject:'',\n            mailTo:'',\n            mailBody:'',\n            registeredGuestName:'',\n            eventId:'',\n            errMailSubjectMsg:false,\n            errMailBodyMsg:false,\n            allMarketPlaceData:{},\n            eventTitle:''\n        }\n    },\n    methods: {\n        onClear(){\n\n            this.mailTo = '';\n            this.mailBody = '';\n            this.mailSubject = '';\n\n            this.errMailBodyMsg = false;\n            this.errMailSubjectMsg = false;\n\n        },\n        //Print Market Place\n        printMarketPlace(){\n            $(document).ready(function () {\n                $('#modalForPrintMarketPlace').modal('show');\n            });\n            $('#datatablePrint').DataTable().destroy();\n            this.axios\n                .get(this.base_url + \"/api/getMarketPlace\")\n                .then((res) => {\n                this.allMarketPlaceData = res.data.data;\n                $(document).ready(function() {\n                    $('#datatablePrint').DataTable( {\n                        dom: '<\"top\"Bfi>rt<\"top\"lp><\"clear\">', \n                        buttons: [\n                            {\n                                extend: 'csv',\n                                messageTop: 'Market Place Informations',\n                                title: 'Asf 2022 Market Place Information Table'\n                           },\n                           {\n                                extend: 'print',\n                                messageTop: 'Market Place Informations',\n                                title: 'Asf 2022 Market Place Information Table'\n                           },\n                        ]\n                    } );\n                    $('.buttons-print').each(function() {\n                    $(this).removeClass('btn-default').addClass('print-button')\n                    })\n\n                    $('.buttons-csv').each(function() {\n                    $(this).removeClass('btn-default').addClass('csv-button')\n                    }) \n\n                    $('.dt-buttons').each(function() { \n                    $(this).css({ float: 'left' });\n                    })\n\n\n                    $('.dataTables_length').each(function() { \n                    $(this).css({ margin: '10px' });\n                    })\n\n                    $('#datatablePrint .dataTables_filter').each(function() { \n                    $(this).css({ float: 'right' });\n                    })\n\n                } );\n            })\n\n        },\n        \n        // Gel Market Place Data\n        getMarketPlace() { \n\n            $('#datatable').DataTable().destroy();\n            this.axios\n                .get(this.base_url + \"/api/getMarketPlace\")\n                .then((res) => { \n                    this.marketPlaces = res.data.data;\n                    this.eventTitle = res.data.activeEvent.title;\n                    $(document).ready(function () {\n                        $('#datatable').DataTable();\n                    });\n                })\n\n        },\n\n        // Show All Market Place\n        onShow(marketPlace) { \n\n            this.marketPlaceModalData = marketPlace;\n\n            $(document).ready(function () {\n                $('#exampleModalCenter').modal('show');\n            });\n        } ,\n        \n        onReply(data) { \n            this.onClear();\n            this.mailTo = data.email; \n            this.contactPersonName = data.contact_person_name;\n            this.eventId = data.event_id;\n            console.log(data.email);\n            $(document).ready(function () {\n                $('#exampleModalCenterForSendingMail').modal('show');\n            });\n        },\n\n        // For Sending Mail\n        onSend() { \n            \n            if( this.mailSubject !='' && this.mailBody != '') {\n                this.spinnerOn = true;\n                $(document).ready(function () {\n                $('#exampleModalCenterForSendingMail').modal('hide');\n            });\n                this.axios\n                .post(this.base_url + '/api/send-reply', {\n                    subject: this.mailSubject,\n                    //title: this.mailTitle,\n                    message_body: this.mailBody,\n                    email: this.mailTo,\n                    name: this.registeredGuestName,\n                    event_id:this.eventId\n                    \n                })\n                .then((res) => { \n                    console.log(res);\n                    createToast('Mail Sent Successfully !', {\n                            position: 'top-center',\n                            transition: 'bounce',\n                            timeout: 1500,\n                            type: 'success',\n                    })\n                    this.spinnerOn = false;\n                    this.onClear();\n                })\n                .catch((err) => { \n                    console.log(err);\n                    createToast('Mail Sent Successfully !', {\n                            position: 'top-center',\n                            transition: 'bounce',\n                            timeout: 1500,\n                            type: 'success',\n                    })\n                    this.spinnerOn = false;\n                    this.onClear();\n                })\n\n            }else{\n\n            if(this.mailSubject != '') {\n                this.errMailSubjectMsg = false;\n            }else{\n                this.errMailSubjectMsg = true; \n            }\n\n            if(this.mailBody != '') {\n                this.errMailBodyMsg = false;\n            }else{\n                this.errMailBodyMsg = true; \n            }\n            this.spinnerOn = false;\n            }\n        },\n\n        formatDate(value) {\n            \n            return moment(value).format('ddd, MMMM Do YYYY, h:mm:ss a')\n        },\n\n    },\n    created() {\n        this.getMarketPlace();\n    },\n}\n</script>\n\n<style scoped>\n.legendItem {\n    margin-top: -36px;\n    background-color: white;\n    padding: 0 7px;\n    display: inline-block;\n    width: auto;\n    line-height: 10px;\n}\n\n.field_set_item {\n    border-width: 2px;\n    border-style: groove;\n    border-color: threedface;\n    padding: 30px;\n}\n.form-control{\n    height:auto !important;\n}\n</style>"]},"metadata":{},"sourceType":"module"}