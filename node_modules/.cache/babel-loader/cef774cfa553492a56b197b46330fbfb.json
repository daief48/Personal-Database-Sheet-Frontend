{"ast":null,"code":"import $ from 'jquery';\nexport default {\n  components: {},\n\n  data() {\n    const storageData = JSON.parse(localStorage.getItem('user'));\n    const columns = [{\n      data: 'department'\n    }, {\n      data: 'designation'\n    }];\n    return {\n      backend_url: process.env.VUE_APP_API_URL,\n      storageData,\n      url: this.backendUrl + \"/api/users\",\n      basicInfo: {\n        name: '',\n        mobileNumber: '',\n        email: '',\n        designation: '',\n        designation_id: '',\n        image: '',\n        columns,\n        transferList: [{\n          department: 1,\n          designation: 1\n        }]\n      }\n    };\n  },\n\n  computed: {},\n  methods: {\n    getDepartmentList() {\n      this.axios.get(this.backend_url + 'getDepartment').then(res => {\n        this.departments = res.data.data;\n      });\n    },\n\n    getDesignationList() {\n      this.axios.get(this.backend_url + 'getDesignationMgt').then(res => {\n        this.designations = res.data.data;\n        console.log(this.designations);\n      });\n    },\n\n    getTransferList() {\n      this.axios.get(this.backend_url + 'getTransferList?user_id=' + this.storageData.id).then(res => {\n        // console.log(res.data.data);\n        this.transferList = res.data.data;\n        console.log('sssss==');\n        console.log(this.transferList);\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n\n    saveTranfer() {\n      let formData = new FormData();\n      formData.append('user_id', this.storageData.id);\n      this.axios.post(this.backend_url + 'saveTranfer', formData).then(res => {\n        console.log(res.data);\n        this.getProfileInfo();\n        $(\".closeModal\").trigger(\"click\");\n      });\n    }\n\n  },\n\n  created() {\n    this.getTransferList();\n    this.getDepartmentList();\n    this.getDesignationList();\n  },\n\n  watch: {}\n};","map":{"version":3,"mappings":"AA6FE,OAAOA,CAAP,MAAc,QAAd;AAEA,eAAe;EACbC,UAAU,EAAE,EADC;;EAKbC,IAAI,GAAG;IACL,MAAMC,WAAU,GAAIC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAApB;IACA,MAAMC,OAAM,GAAI,CACE;MAAEN,IAAI,EAAE;IAAR,CADF,EAEE;MAAEA,IAAI,EAAE;IAAR,CAFF,CAAhB;IAIA,OAAO;MACLO,WAAW,EAAEC,OAAO,CAACC,GAAR,CAAYC,eADpB;MAELT,WAFK;MAGLU,GAAG,EAAE,KAAKC,UAAL,GAAkB,YAHlB;MAILC,SAAS,EAAC;QACRC,IAAI,EAAC,EADG;QAERC,YAAY,EAAC,EAFL;QAGRC,KAAK,EAAC,EAHE;QAIRC,WAAW,EAAC,EAJJ;QAKRC,cAAc,EAAC,EALP;QAMRC,KAAK,EAAC,EANE;QAORb,OAPQ;QAQRc,YAAY,EAAC,CAAC;UAACC,UAAU,EAAE,CAAb;UAAgBJ,WAAW,EAAE;QAA7B,CAAD;MARL;IAJL,CAAP;EAgBD,CA3BY;;EA6BbK,QAAQ,EAAE,EA7BG;EA+BbC,OAAO,EAAE;IAEPC,iBAAiB,GAAE;MACjB,KAAKC,KAAL,CACCC,GADD,CACK,KAAKnB,WAAL,GAAiB,eADtB,EAECoB,IAFD,CAEOC,GAAD,IAAS;QACb,KAAKC,WAAL,GAAmBD,GAAG,CAAC5B,IAAJ,CAASA,IAA5B;MAED,CALD;IAMD,CATM;;IAUP8B,kBAAkB,GAAE;MAClB,KAAKL,KAAL,CACCC,GADD,CACK,KAAKnB,WAAL,GAAiB,mBADtB,EAECoB,IAFD,CAEOC,GAAD,IAAS;QACb,KAAKG,YAAL,GAAoBH,GAAG,CAAC5B,IAAJ,CAASA,IAA7B;QACAgC,OAAO,CAACC,GAAR,CAAY,KAAKF,YAAjB;MACD,CALD;IAMD,CAjBM;;IAmBPG,eAAe,GAAE;MACf,KAAKT,KAAL,CACCC,GADD,CACK,KAAKnB,WAAL,GAAiB,0BAAjB,GAA4C,KAAKN,WAAL,CAAiBkC,EADlE,EAECR,IAFD,CAEOC,GAAD,IAAS;QACX;QACA,KAAKR,YAAL,GAAoBQ,GAAG,CAAC5B,IAAJ,CAASA,IAA7B;QACAgC,OAAO,CAACC,GAAR,CAAY,SAAZ;QACAD,OAAO,CAACC,GAAR,CAAY,KAAKb,YAAjB;MACH,CAPD,EAQCgB,KARD,CAQQC,CAAD,IAAK;QACVL,OAAO,CAACC,GAAR,CAAYI,CAAZ;MACD,CAVD;IAWD,CA/BM;;IAiCPC,WAAW,GAAE;MACX,IAAIC,QAAO,GAAI,IAAIC,QAAJ,EAAf;MACAD,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2B,KAAKxC,WAAL,CAAiBkC,EAA5C;MAEA,KAAKV,KAAL,CACCiB,IADD,CACM,KAAKnC,WAAL,GAAiB,aADvB,EACqCgC,QADrC,EAECZ,IAFD,CAEOC,GAAD,IAAS;QACXI,OAAO,CAACC,GAAR,CAAYL,GAAG,CAAC5B,IAAhB;QACA,KAAK2C,cAAL;QACA7C,CAAC,CAAC,aAAD,CAAD,CAAiB8C,OAAjB,CAA0B,OAA1B;MAEH,CAPD;IAQD;;EA7CM,CA/BI;;EAmFbC,OAAO,GAAG;IACR,KAAKX,eAAL;IACA,KAAKV,iBAAL;IACA,KAAKM,kBAAL;EACD,CAvFY;;EAyFbgB,KAAK,EAAE;AAzFM,CAAf","names":["$","components","data","storageData","JSON","parse","localStorage","getItem","columns","backend_url","process","env","VUE_APP_API_URL","url","backendUrl","basicInfo","name","mobileNumber","email","designation","designation_id","image","transferList","department","computed","methods","getDepartmentList","axios","get","then","res","departments","getDesignationList","designations","console","log","getTransferList","id","catch","e","saveTranfer","formData","FormData","append","post","getProfileInfo","trigger","created","watch"],"sourceRoot":"","sources":["/var/www/html/PMS_PROJECT/pds/src/components/Transfer/Transfer.vue"],"sourcesContent":["<template>\n    <div>\n    <h3 class=\"\"><strong> Profile</strong></h3>\n    <div class=\"card card-default\">\n      <div class=\"card-body\">\n        <div class=\"row\">\n          <div class=\"col-md-12\">\n            <DataTable\n            :columns=\"columns\"\n            :data=\"transferList\"\n            class=\"table table-hover table-striped\"\n            width=\"100%\"\n          >\n            <thead>\n              <tr>\n                <th>Department</th>\n                <th>Designation</th>\n              </tr>\n            </thead>\n            <tfoot>\n              <tr>\n                <th>Department</th>\n                <th>Designation</th>\n              </tr>\n            </tfoot>\n          </DataTable>\n          </div>\n        </div>\n      </div>\n  \n    </div>\n   \n  <!-- Modal Start -->\n  <div class=\"modal\" id=\"basicInfoModal\">\n    <div class=\"modal-dialog modal-lg\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header p-0\">\n          <h4 class=\"modal-title\">Basic Info</h4>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\n        </div>\n        <!-- Modal body -->\n        <div class=\"modal-body\">\n          <div class=\"d-flex p-2\">\n            <div class=\"bg-light p-2 \">\n              <img :src=\"imgDataUrl\" class=\"d-block\" width=\"300\">\n              <a class=\"btn d-block btn-info text-white mt-1\" @click=\"toggleShow\">Profile Image</a>\n            </div>\n            <div class=\"ml-3\">\n              <table class=\"table table-borderless\">\n                <tbody>\n                  <tr>\n                    <td><strong>Name:</strong></td>\n                    <td><input type=\"text\" class=\"form-control\" v-model=\"basicInfo.name\"></td>\n                  </tr>\n                  <tr>\n                    <td><strong>Mobile Number:</strong></td>\n                    <td><input type=\"text\" class=\"form-control\" v-model=\"basicInfo.mobileNumber\"></td>\n                  </tr>\n                  <tr>\n                    <td><strong>Email:</strong></td>\n                    <td><input type=\"text\" class=\"form-control\" v-model=\"basicInfo.email\"></td>\n                  </tr>\n                  <tr>\n                    <td><strong>Designation:</strong></td>\n                    <td>\n                      <select v-model=\"basicInfo.designation_id\" class=\"form-control\">\n                        <option value=\"1\">Officer</option>\n                      </select>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n        <!-- Modal footer -->\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-outline-success\" @click=\"saveProfile('emergency_contact')\" >Save Profile</button>\n          <button type=\"button\" class=\"btn btn-outline-danger ml-2 closeModal\" data-dismiss=\"modal\">Close</button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- Modal End -->\n  \n  \n  \n                \n  </div>\n  </template>\n  \n  <script>\n  \n  import $ from 'jquery';\n  \n  export default {\n    components: {\n\n    },\n  \n    data() {\n      const storageData = JSON.parse(localStorage.getItem('user'));\n      const columns = [\n                        { data: 'department'},\n                        { data: 'designation'},\n                      ];\n      return {\n        backend_url: process.env.VUE_APP_API_URL, \n        storageData,\n        url: this.backendUrl + \"/api/users\",\n        basicInfo:{\n          name:'',\n          mobileNumber:'',\n          email:'',\n          designation:'',\n          designation_id:'',\n          image:'',\n          columns,\n          transferList:[{department: 1, designation: 1}],\n        },\n\n      };\n    },\n    \n    computed: { },\n  \n    methods: {\n  \n      getDepartmentList(){\n        this.axios\n        .get(this.backend_url+'getDepartment')\n        .then((res) => {\n          this.departments = res.data.data;\n          \n        })\n      },\n      getDesignationList(){\n        this.axios\n        .get(this.backend_url+'getDesignationMgt')\n        .then((res) => {\n          this.designations = res.data.data;\n          console.log(this.designations);\n        })\n      },\n  \n      getTransferList(){\n        this.axios\n        .get(this.backend_url+'getTransferList?user_id='+this.storageData.id)\n        .then((res) => {\n            // console.log(res.data.data);\n            this.transferList = res.data.data;\n            console.log('sssss==');\n            console.log(this.transferList);\n        })\n        .catch((e)=>{\n          console.log(e)\n        })\n      },\n  \n      saveTranfer(){\n        let formData = new FormData;\n        formData.append('user_id', this.storageData.id);\n  \n        this.axios\n        .post(this.backend_url+'saveTranfer',formData)\n        .then((res) => {\n            console.log(res.data);\n            this.getProfileInfo();\n            $(\".closeModal\").trigger( \"click\" );\n            \n        })\n      },\n  \n  \n\n  \n    },\n  \n    created() {\n      this.getTransferList();\n      this.getDepartmentList();\n      this.getDesignationList();\n    },\n  \n    watch: {\n      \n      },\n  \n  }\n  \n  \n  </script>\n  \n  <style>\n  \n  .ui.inverted.dimmer {\n    color: #009688 !important;\n  \n  }\n  \n  .cropper {\n      height: 400px;\n      width: 400px;\n      background: #DDD;\n  }\n  \n  \n  .file-btn {\n    position: relative;\n    display: block;\n    cursor: pointer;\n  }\n  .file-btn input {\n      position: absolute;\n      height: 100%;\n      width: 100%;\n      left: 0;\n      top: 0;\n      opacity: 0;\n      cursor: pointer;\n  }    \n      \n  \n  </style>\n  \n  <style scoped>\n    ::v-deep .modal-container {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n    ::v-deep .modal-content {\n      position: relative;\n      display: flex;\n      flex-direction: column;\n      margin: 0 1rem;\n      padding: 1rem;\n      border: 1px solid #e2e8f0;\n      border-radius: 0.25rem;\n      background: #fff;\n    }\n    .modal__title {\n      margin: 0 2rem 0 0;\n      font-size: 1.5rem;\n      font-weight: 700;\n    }\n    .modal__close {\n      position: absolute;\n      top: 0.5rem;\n      right: 0.5rem;\n    }\n    </style>\n    \n    <style scoped>\n    .dark-mode div::v-deep .modal-content {\n      border-color: #2d3748;\n      background-color: #1a202c;\n    }\n\n    </style>"]},"metadata":{},"sourceType":"module"}